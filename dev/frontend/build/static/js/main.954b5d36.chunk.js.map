{"version":3,"sources":["img/loading.gif","logic/string.js","components/CenteredModal/index.jsx","components/CenteredAlert/index.jsx","logic/validation.js","services/const.js","services/base.js","services/session.js","services/error.js","components/LoginForm/index.jsx","components/HomeBanner/index.jsx","components/AccountEditorModal/form.jsx","services/user.js","components/AccountEditorModal/index.jsx","logic/forecast.js","components/Notification/index.jsx","components/MyAccountDropdownMenu/index.jsx","components/ChangePasswordModal/form.jsx","components/ChangePasswordModal/index.jsx","services/notify.js","components/Navbar/index.jsx","components/Avatar/index.jsx","components/MenuItem/index.jsx","components/Menu/index.jsx","components/MenuItemNoTitle/index.jsx","components/MenuNoTitle/index.jsx","components/Leftbar/index.jsx","components/ChartStatus/index.jsx","components/ChartsPanel/index.jsx","logic/indexesToChart.js","logic/calcTime.js","components/IndexCard/index.jsx","components/IndexesPanel/index.jsx","components/RoomStatus/index.jsx","components/ForecastDetail/index.jsx","components/Map/index.jsx","components/Forecasts/index.jsx","logic/datelist.js","components/AccountAdditionModal/form.jsx","components/AccountAdditionModal/index.jsx","components/AccountsPanel/index.jsx","components/FailureAlert/index.jsx","components/Loading/index.jsx","components/Unavailable/index.jsx","components/RenderWindow/index.jsx","services/iot.js","components/Header/index.jsx","index.js","img/logo.png"],"names":["module","exports","String","prototype","toProperCase","this","replace","txt","charAt","toUpperCase","substr","toLowerCase","CenteredModal","props","getTitle","bind","getBody","getFooter","rest","onSuccess","onFailure","self","Modal","centered","Header","closeButton","Title","Body","Footer","Component","CenteredAlert","title","children","style","danger","Button","onClick","onSubmit","variant","disabled","button_name","handleInput","name","value","targetValue","valid","startsWith","match","targetValid","test","PROXY","BASE","ERRORS","C1","C2","C3","C100","C101","C102","C103","C104","C105","C106","C107","C108","C200","C201","C202","C203","C300","C301","post","endpoint","body","url","fetch","method","headers","Accept","Origin","JSON","stringify","then","res","json","data","console","log","error_code","catch","get","logout","token","localStorage","getItem","CONST","LoginForm","state","username","password","usernameValid","passwordValid","isAuthening","success","response","showAlert","handleChange","handleLogin","handleLoginFailure","handleLoginSuccess","hideAlert","setState","event","target","preventDefault","req","setItem","getErrorMessage","to","Form","Label","className","href","Group","Control","type","placeholder","onChange","isInvalid","required","Feedback","Check","label","Alert","show","block","Spinner","as","animation","size","role","aria-hidden","onHide","HomeBanner","isLogin","AccountEditorForm","prev","profile","validation","controlId","defaultValue","Row","Col","first_name","last_name","email","address","gender","phone_number","list","add","user","remove","view","modify","info","modifySelf","changePassword","changeSelfPassword","lock","unlock","AccountEditorModal","prevProfile","process","change","handleFailure","obj","getChange","Object","keys","length","userServices","key","isFormValid","ButtonToolbar","nextProps","prevState","getDate","dt_txt","substring","forecastOf","date","filter","item","Notification","newList","map","notify","idx","seen","Fragment","Popover","markAllAsRead","Content","handleSelect","Image","roundedCircle","src","logo","for_user","message","MAX_CONTENT_LENGTH","time","MyAccountDropdownMenu","isLogout","handleLogout","sessionServices","clear","showProfileEditorModal","showChangePasswordModal","Dropdown","Divider","ChangePasswordForm","cfPasswordValid","ChangePasswordModal","cfPassword","updating","handleSubmit","alert","form","active","Navbar","showProfileEditor","showChangePassword","showFailAlert","hideProfileEditorModal","hideChangePasswordModal","handleFetchNotifySuccess","handleModifyProfileSuccess","fetchNotifications","refs","profileOverlay","hide","notifyServices","notifications","propName","push","reverse","unseen","n","OverlayTrigger","rootClose","trigger","placement","overlay","Badge","pill","ref","Avatar","alt","MenuItem","selected","link","changeWindow","nameItem","icon","Menu","ButtonGroup","vertical","menuItems","MenuItemNoTitle","MenuNoTitle","Leftbar","nameWindow","getCurrentWindow","path","window","location","find","includes","finalMenu","isAdmin","slice","avatar","ChartStatus","series","theme","categories","Card","options","chart","stacked","height","zoom","enabled","autoScaleYaxis","toolbar","tools","download","selection","zoomin","zoomout","pan","reset","customIcons","autoSelected","xaxis","labels","width","ChartsPanel","Temperature","color","Humidity","AQI","mode","monochrome","shadeTo","shadeIntensity","result","indexes2Chart","LASTEST","Date","currentTime","getTime","index","currentDate","currentData","d","tmpDate","getHours","getMinutes","toISOString","toLocaleTimeString","STEP","convertIndexesToChart","calcTimeUpdated","past","current","deltaTime","hours","minutes","getSeconds","seconds","Math","floor","toString","IndexCard","interval","setInterval","compareTime","clearInterval","timeUpdate","text","changeNotify","handUpdateData","IndexesPanel","indexes","RoomStatus","ForecastDetail","Table","responsive","hover","weather","description","ktemp","main","temp","round","humidity","pressure","wind","deg","speed","SimpleMap","bootstrapURLKeys","defaultCenter","center","defaultZoom","LIMIT","ForecastsWindow","city","CITY_LIST","sort","a","b","select","searching","expand","myRef","React","createRef","filterCity","handleSearch","scroll","scrollIntoForecast","cityId","fetchWeather","id","option","scrollIntoView","behavior","defaultLocation","lat","lng","onInputChange","country","Map","coord","lon","Accordion","out","forEach","indexOf","getDateList","getDay","getDayFromDate","Toggle","eventKey","handleExpand","Collapse","savePdfFile","AccountAdditionForm","AccountAdditionModal","DIRECTION","NONE","DOWN","UP","AccountsPanel","locking_state","action","sortIcon","fetchLockingState","fetchDeleteAccount","handleChangeFilter","edit","changePswd","callback","onDeleteSuccess","onLockSuccess","onUnlockSuccess","property","prevDirect","searchInput","default","searchSelect","op","striped","scope","sortBy","FormCheck","custom","Input","checked","handleClickLock","data-tip","handleClickProfile","place","effect","handleClickPassword","handleClickRemove","visible","isProcess","onModifySuccess","onAddSuccess","onChangePswdSuccess","FailureAlert","Heading","Loading","loading","Unavailable","RenderWindow","iotCurrent","iotDatas","users","filtered","showEditor","showAddition","showPassword","fetchIoTChartSuccess","fetchIoTCurrentSuccess","fetchUsersSuccess","handleFetchIoTDatasSuccess","handleFetchIoTDatasFailed","handleFetchIoTCurrentSuccess","handleFetchIoTCurrentFailed","handleFetchUsersSuccess","handleFetchUsersFailure","handleAddUserSuccess","handleLockUserSuccess","handleUnlockUserSuccess","changeLockingState","handleDeleteUserSuccess","handleModifyUserSuccess","fetchUserList","showAccountEditorModal","hideAccountEditorModal","hideAccountAdditionModal","showAccountAdditionModal","updateFilter","fetchIoTDatas","fetchIoTCurrent","prevProps","handleNoFetch","newUser","direct","sorted","fetchSuccess","fetchProfileSuccess","exact","allow","Forecasts","failureResponse","handleFetchProfileSuccess","handleFetchProfileFailure","fetchProfile","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.954b5d36.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/loading.69465cf0.gif\";","String.prototype.toProperCase = function() {\r\n  return this.replace(\"_\", \" \").replace(/\\w\\S*/g, function(txt) {\r\n    return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\r\n  });\r\n};\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Modal } from \"react-bootstrap\";\r\n\r\nclass CenteredModal extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.getTitle = this.getTitle.bind(this);\r\n    this.getBody = this.getBody.bind(this);\r\n    this.getFooter = this.getFooter.bind(this);\r\n  }\r\n\r\n  getTitle() {}\r\n\r\n  getBody() {}\r\n\r\n  getFooter() {}\r\n\r\n  render() {\r\n    const { onSuccess, onFailure, self, ...rest } = this.props;\r\n    return (\r\n      <Modal {...rest} centered>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>{this.getTitle()}</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>{this.getBody()}</Modal.Body>\r\n        <Modal.Footer>{this.getFooter()}</Modal.Footer>\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nCenteredModal.propTypes = {\r\n  self: PropTypes.bool\r\n};\r\n\r\nexport default CenteredModal;\r\n","import React from \"react\";\r\nimport CenteredModal from \"../CenteredModal\";\r\nimport { Button } from \"react-bootstrap\";\r\n\r\nclass CenteredAlert extends CenteredModal {\r\n  constructor(props) {\r\n    super(props);\r\n    this.getTitle = this.getTitle.bind(this);\r\n    this.getBody = this.getBody.bind(this);\r\n    this.getFooter = this.getFooter.bind(this);\r\n  }\r\n\r\n  getTitle() {\r\n    return this.props.title;\r\n  }\r\n\r\n  getBody() {\r\n    return this.props.children;\r\n  }\r\n\r\n  getFooter() {\r\n    const style = this.props.danger ? \"danger\" : \"primary\";\r\n    return (\r\n      <Button\r\n        onClick={this.props.onSubmit}\r\n        variant={style}\r\n        disabled={this.props.disabled}\r\n      >\r\n        {this.props.button_name}\r\n      </Button>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CenteredAlert;\r\n","export default function handleInput(name, value, targetValue = null) {\r\n  let valid = null;\r\n\r\n  if (value.startsWith(\" \")) return false;\r\n\r\n  switch (name) {\r\n    case \"username\":\r\n      valid = value.match(/^[a-zA-Z0-9.\\-_$@*!]{5,10}$/) ? true : false;\r\n      break;\r\n    case \"password\":\r\n      valid = value.match(/^[a-zA-Z0-9!@#$%^&*]{5,15}$/) ? true : false;\r\n      break;\r\n    case \"cfPassword\":\r\n      let targetValid = value.match(/^[a-zA-Z0-9!@#$%^&*]{5,15}$/)\r\n        ? true\r\n        : false;\r\n      valid = value === targetValue && targetValid;\r\n      break;\r\n    case \"last_name\":\r\n    case \"first_name\":\r\n      valid = value.match(/^[a-zA-Z0-9 ]{3,30}$/) ? true : false;\r\n      break;\r\n    case \"email\":\r\n      valid = /^\\w+([-]?\\w+)*@\\w+([-]?\\w+)*(\\.\\w{2,3})+$/.test(value)\r\n        ? true\r\n        : false;\r\n      break;\r\n    case \"phone_number\":\r\n      valid = value.match(/^[0-9 ]$/) ? true : false || value.startsWith(\"+\");\r\n      break;\r\n    case \"address\":\r\n      valid = value.match(/^[a-zA-Z0-9,/ .\\-_$@*!]{3,30}$/) ? true : false;\r\n      break;\r\n    default:\r\n      return null;\r\n  }\r\n\r\n  return valid;\r\n}\r\n","export const PROXY = \"https://cors-anywhere.herokuapp.com/\";\r\nexport const BASE = \"http://54.237.117.36\";\r\n\r\nexport const POST = \"POST\";\r\nexport const GET = \"GET\";\r\n\r\nexport const ERRORS = {\r\n  C1: \"Unknown Error\",\r\n  C2: \"Wrong Request Format\",\r\n  C3: \"This Feature Is Now Under Maintenance\",\r\n\r\n  C100: \"User-related Errors\",\r\n  C101: \"Wrong Parameter Format\",\r\n  C102: \"Incorrect Credentials\",\r\n  C103: \"Request Missing Arguments\",\r\n  C104: \"Incorrect Token\",\r\n  C105: \"Username Has Already Existed\",\r\n  C106: \"Permission Denied\",\r\n  C107: \"Account Doesn't Exist\",\r\n  C108: \"Locked Account\",\r\n\r\n  C200: \"Device-related Unknown Error\",\r\n  C201: \"Device Id Is Incorrect\",\r\n  C202: \"Operation Id Is Incorrect\",\r\n  C203: \"Operation Parameters Are Incorrect\",\r\n\r\n  C300: \"Mysql Query Error\",\r\n  C301: \"Redis Database Error\"\r\n};\r\n","import { PROXY, BASE, POST, GET } from \"./const\";\r\n\r\nexport const post = (endpoint, body, onSuccess, onFailure) => {\r\n  const url = `${PROXY}${BASE}:3000${endpoint}`;\r\n\r\n  fetch(url, {\r\n    method: POST,\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Origin: \"http://localhost\"\r\n    },\r\n    body: JSON.stringify(body)\r\n  })\r\n    .then(res => res.json())\r\n    .then(data => {\r\n      console.log(data);\r\n\r\n      if (data.error_code === 0) onSuccess(data, body);\r\n      else onFailure(data);\r\n    })\r\n    .catch(onFailure);\r\n};\r\n\r\nexport const get = (endpoint, onSuccess, onFailure) => {\r\n  const url = `${PROXY}${BASE}${endpoint}`;\r\n\r\n  fetch(url, {\r\n    method: GET,\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Origin: \"http://localhost\"\r\n    }\r\n  })\r\n    .then(res => res.json())\r\n    .then(data => {\r\n      console.log(data);\r\n\r\n      if (data.error_code === 0) onSuccess(data);\r\n      else onFailure(data);\r\n    })\r\n    .catch(onFailure);\r\n};\r\n","import { post } from \"./base\";\r\n\r\nexport const login = (username, password, onSuccess, onFailure) => {\r\n  const body = {\r\n    username,\r\n    password\r\n  };\r\n\r\n  post(\"/login\", body, onSuccess, onFailure);\r\n};\r\n\r\nexport const logout = () => {\r\n  const body = {\r\n    token: localStorage.getItem(\"token\")\r\n  };\r\n\r\n  post(\"/logout\", body, () => {});\r\n};\r\n","import * as CONST from \"./const\";\r\n\r\nexport default function(res) {\r\n  if (!res || !res.error_code) return \"Unknow error!\";\r\n\r\n  const message =\r\n    `Code ${res.error_code}: ` + CONST.ERRORS[`C${res.error_code}`];\r\n\r\n  return message;\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Form, Button, Spinner, Alert } from \"react-bootstrap\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nimport CenteredAlert from \"../CenteredAlert\";\r\n\r\nimport handleInput from \"../../logic/validation\";\r\nimport * as sessionServices from \"../../services/session\";\r\n\r\nimport \"./style.css\";\r\n\r\nimport getErrorMessage from \"../../services/error\";\r\n\r\nclass LoginForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      username: null,\r\n      password: null,\r\n      usernameValid: null,\r\n      passwordValid: null,\r\n      isAuthening: null,\r\n      success: null,\r\n      response: null,\r\n      showAlert: false\r\n    };\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleLogin = this.handleLogin.bind(this);\r\n\r\n    this.handleLoginFailure = this.handleLoginFailure.bind(this);\r\n    this.handleLoginSuccess = this.handleLoginSuccess.bind(this);\r\n\r\n    this.hideAlert = this.hideAlert.bind(this);\r\n    this.showAlert = this.showAlert.bind(this);\r\n  }\r\n\r\n  hideAlert() {\r\n    this.setState({ showAlert: false });\r\n  }\r\n\r\n  showAlert() {\r\n    this.setState({ showAlert: true });\r\n  }\r\n\r\n  handleChange(event) {\r\n    const { name, value } = event.target;\r\n\r\n    const valid = handleInput(name, value);\r\n\r\n    this.setState({\r\n      [name]: value,\r\n      [name + \"Valid\"]: valid\r\n    });\r\n  }\r\n\r\n  async handleLogin(event) {\r\n    event.preventDefault();\r\n\r\n    this.setState({\r\n      isAuthening: true\r\n    });\r\n\r\n    await sessionServices.login(\r\n      this.state.username,\r\n      this.state.password,\r\n      this.handleLoginSuccess,\r\n      this.handleLoginFailure\r\n    );\r\n  }\r\n\r\n  handleLoginSuccess(res, req) {\r\n    localStorage.setItem(\"token\", res.token);\r\n    this.setState({ success: true, isAuthening: false });\r\n  }\r\n\r\n  handleLoginFailure(res) {\r\n    const response = getErrorMessage(res);\r\n\r\n    this.setState({ success: false, isAuthening: false, response });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.success) return <Redirect to=\"/dashboard\" />;\r\n\r\n    return (\r\n      <Form onSubmit={this.handleLogin}>\r\n        <Form.Label className=\"mb-4\">\r\n          <h2>Sign in</h2>\r\n          <small>\r\n            If you don't have an account, please contact admin to{\" \"}\r\n            <a href=\"#sign-up\">sign up</a>\r\n          </small>\r\n        </Form.Label>\r\n        <Form.Group>\r\n          <Form.Label>Username</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            placeholder=\"eg: admin\"\r\n            name=\"username\"\r\n            onChange={this.handleChange}\r\n            isInvalid={this.state.usernameValid === false}\r\n            required\r\n          />\r\n          <Form.Control.Feedback type=\"invalid\">\r\n            Username is between 5 and 10 characters long and do not contain\r\n            special characters\r\n          </Form.Control.Feedback>\r\n        </Form.Group>\r\n        <Form.Group>\r\n          <Form.Label>Password</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            placeholder=\"eg: admin\"\r\n            name=\"password\"\r\n            onChange={this.handleChange}\r\n            isInvalid={this.state.passwordValid === false}\r\n            required\r\n          />\r\n          <Form.Control.Feedback type=\"invalid\">\r\n            Password is between 5 and 15 characters long and do not contain\r\n            space\r\n          </Form.Control.Feedback>\r\n        </Form.Group>\r\n        <Form.Group>\r\n          <Form.Check type=\"checkbox\" label=\"Remember me\" />\r\n        </Form.Group>\r\n\r\n        <Form.Group>\r\n          <Alert variant=\"danger p-2\" show={this.state.success === false}>\r\n            <small>\r\n              Oops! You got an error!.\r\n              <br />\r\n              {this.state.response}.\r\n            </small>\r\n          </Alert>\r\n        </Form.Group>\r\n        <Form.Group>\r\n          <Button\r\n            type=\"submit\"\r\n            block\r\n            disabled={\r\n              !this.state.passwordValid ||\r\n              !this.state.usernameValid ||\r\n              this.state.isAuthening\r\n            }\r\n          >\r\n            {this.state.isAuthening ? (\r\n              <div>\r\n                <Spinner\r\n                  as=\"span\"\r\n                  animation=\"border\"\r\n                  size=\"sm\"\r\n                  role=\"status\"\r\n                  aria-hidden=\"true\"\r\n                />{\" \"}\r\n                Processing\r\n              </div>\r\n            ) : (\r\n              \"Sign in\"\r\n            )}\r\n          </Button>\r\n        </Form.Group>\r\n\r\n        <a href=\"#forgot-pswd\" onClick={this.showAlert}>\r\n          Forgot your password?\r\n        </a>\r\n        <CenteredAlert\r\n          show={this.state.showAlert}\r\n          onHide={this.hideAlert}\r\n          title=\"Forgot Your Password?\"\r\n          button_name=\"OK\"\r\n          onSubmit={this.hideAlert}\r\n        >\r\n          Please contact administrator to reset your password.\r\n        </CenteredAlert>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LoginForm;\r\n","import React, { Component } from \"react\";\r\nimport LoginForm from \"../LoginForm\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nimport \"./style.css\";\r\n\r\nclass HomeBanner extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLogin: null,\r\n      showAlert: false\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const token = localStorage.getItem(\"token\");\r\n    this.setState({ isLogin: token !== null });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.isLogin === true) return <Redirect to=\"/dashboard\" />;\r\n\r\n    return (\r\n      <section className=\"home-banner-area\">\r\n        <div className=\"container\">\r\n          <div className=\"row justify-content-end fullscreen\">\r\n            <div className=\"col-lg-10 col-md-12 home-banner-left d-flex fullscreen align-items-center\">\r\n              <div className=\"\">\r\n                <div className=\"title\">\r\n                  <h1>\r\n                    Smart <span className=\"blue-text\">IoT </span>\r\n                    <br />\r\n                    Room <span className=\"blue-text\">Controller</span>\r\n                  </h1>\r\n                </div>\r\n                <div className=\"login-form\">\r\n                  <LoginForm />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-lg-2 col-md-12\" />\r\n          </div>\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default HomeBanner;\r\n","import React, { Component } from \"react\";\r\nimport { Form, Col } from \"react-bootstrap\";\r\n\r\nclass AccountEditorForm extends Component {\r\n  render() {\r\n    let prev = this.props.profile;\r\n    const { validation } = this.props;\r\n\r\n    if (!prev) return <p>Fail to fetch!</p>;\r\n    else\r\n      return (\r\n        <Form>\r\n          <Form.Group controlId=\"username\">\r\n            <Form.Label>Username</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              name=\"username\"\r\n              defaultValue={prev.username}\r\n              disabled\r\n            />\r\n          </Form.Group>\r\n          <Form.Row>\r\n            <Col>\r\n              <Form.Group controlId=\"first_name\">\r\n                <Form.Label>First Name</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  name=\"first_name\"\r\n                  defaultValue={prev.first_name}\r\n                  onChange={this.props.handleChange}\r\n                  isInvalid={validation.first_name === false}\r\n                />\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                  Invalid first name\r\n                </Form.Control.Feedback>\r\n              </Form.Group>\r\n            </Col>\r\n            <Col>\r\n              <Form.Group controlId=\"last_name\">\r\n                <Form.Label>Last Name</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  name=\"last_name\"\r\n                  defaultValue={prev.last_name}\r\n                  onChange={this.props.handleChange}\r\n                  isInvalid={validation.last_name === false}\r\n                />\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                  Invalid last name\r\n                </Form.Control.Feedback>\r\n              </Form.Group>\r\n            </Col>\r\n          </Form.Row>\r\n          <Form.Group controlId=\"email\">\r\n            <Form.Label>Email</Form.Label>\r\n            <Form.Control\r\n              type=\"email\"\r\n              name=\"email\"\r\n              defaultValue={prev.email}\r\n              onChange={this.props.handleChange}\r\n              isInvalid={validation.email === false}\r\n            />\r\n            <Form.Control.Feedback type=\"invalid\">\r\n              Invalid email address\r\n            </Form.Control.Feedback>\r\n          </Form.Group>\r\n          <Form.Group controlId=\"address\">\r\n            <Form.Label>Address</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              name=\"address\"\r\n              defaultValue={prev.address}\r\n              onChange={this.props.handleChange}\r\n              isInvalid={validation.address === false}\r\n            />\r\n            <Form.Control.Feedback type=\"invalid\">\r\n              Invalid address\r\n            </Form.Control.Feedback>\r\n          </Form.Group>\r\n          <Form.Row>\r\n            <Col>\r\n              <Form.Group controlId=\"gender\">\r\n                <Form.Label>Gender</Form.Label>\r\n                <Form.Control\r\n                  as=\"select\"\r\n                  name=\"gender\"\r\n                  defaultValue={prev.gender}\r\n                  onChange={this.props.handleChange}\r\n                >\r\n                  <option>Male</option>\r\n                  <option>Female</option>\r\n                  <option>Other</option>\r\n                </Form.Control>\r\n              </Form.Group>\r\n            </Col>\r\n            <Col>\r\n              <Form.Group controlId=\"phone_number\">\r\n                <Form.Label>Phone Number</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  name=\"phone_number\"\r\n                  defaultValue={prev.phone_number}\r\n                  onChange={this.props.handleChange}\r\n                  isInvalid={validation.phone_number === false}\r\n                />\r\n                <Form.Control.Feedback type=\"invalid\">\r\n                  Invalid phone number\r\n                </Form.Control.Feedback>\r\n              </Form.Group>\r\n            </Col>\r\n            <Col>\r\n              <Form.Group controlId=\"role\">\r\n                <Form.Label>Role</Form.Label>\r\n                <Form.Control\r\n                  as=\"select\"\r\n                  name=\"role\"\r\n                  defaultValue={prev.role}\r\n                  onChange={this.props.handleChange}\r\n                  disabled={this.props.self}\r\n                >\r\n                  <option>standard</option>\r\n                  <option>admin</option>\r\n                </Form.Control>\r\n              </Form.Group>\r\n            </Col>\r\n          </Form.Row>\r\n        </Form>\r\n      );\r\n  }\r\n}\r\n\r\nexport default AccountEditorForm;\r\n","import { post } from \"./base\";\r\n\r\nexport const list = (onSuccess, onFailure) => {\r\n  const body = {\r\n    token: localStorage.getItem(\"token\")\r\n  };\r\n\r\n  post(\"/admin/list-user\", body, onSuccess, onFailure);\r\n};\r\n\r\nexport const add = (user, onSuccess, onFailure) => {\r\n  const body = {\r\n    token: localStorage.getItem(\"token\"),\r\n    ...user\r\n  };\r\n\r\n  console.log(body);\r\n\r\n  post(\"/admin/add-user\", body, onSuccess, onFailure);\r\n};\r\n\r\nexport const remove = (username, onSuccess, onFailure) => {\r\n  const body = {\r\n    token: localStorage.getItem(\"token\"),\r\n    username\r\n  };\r\n\r\n  post(\"/admin/delete-user\", body, onSuccess, onFailure);\r\n};\r\n\r\nexport const view = (onSuccess, onFailure) => {\r\n  const body = {\r\n    token: localStorage.getItem(\"token\")\r\n  };\r\n\r\n  post(\"/user/info\", body, onSuccess, onFailure);\r\n};\r\n\r\nexport const modify = (info, onSuccess, onFailure) => {\r\n  const body = {\r\n    token: localStorage.getItem(\"token\"),\r\n    ...info\r\n  };\r\n\r\n  post(\"/admin/modify-user\", body, onSuccess, onFailure);\r\n};\r\n\r\nexport const modifySelf = (info, onSuccess, onFailure) => {\r\n  const body = {\r\n    token: localStorage.getItem(\"token\"),\r\n    ...info\r\n  };\r\n\r\n  post(\"/user/modify-user\", body, onSuccess, onFailure);\r\n};\r\n\r\nexport const changePassword = (username, password, onSuccess, onFailure) => {\r\n  const body = {\r\n    token: localStorage.getItem(\"token\"),\r\n    username,\r\n    password\r\n  };\r\n\r\n  post(\"/admin/modify-user\", body, onSuccess, onFailure);\r\n};\r\n\r\nexport const changeSelfPassword = (password, onSuccess, onFailure) => {\r\n  const body = {\r\n    token: localStorage.getItem(\"token\"),\r\n    password\r\n  };\r\n\r\n  post(\"/user/modify-user\", body, onSuccess, onFailure);\r\n};\r\nexport const lock = (username, onSuccess, onFailure) => {\r\n  const body = {\r\n    token: localStorage.getItem(\"token\"),\r\n    username\r\n  };\r\n\r\n  post(\"/admin/lock-user\", body, onSuccess, onFailure);\r\n};\r\n\r\nexport const unlock = (username, onSuccess, onFailure) => {\r\n  const body = {\r\n    token: localStorage.getItem(\"token\"),\r\n    username\r\n  };\r\n\r\n  post(\"/admin/unlock-user\", body, onSuccess, onFailure);\r\n};\r\n\r\nexport const data = (onSuccess, onFailure) => {\r\n  const body = {\r\n    token: localStorage.getItem(\"token\")\r\n  };\r\n\r\n  post(\"/iot/data\", body, onSuccess, onFailure);\r\n};\r\n","import CenteredModal from \"../CenteredModal/index\";\r\nimport React from \"react\";\r\nimport { Button, ButtonToolbar, Spinner, Alert } from \"react-bootstrap\";\r\nimport AccountEditorForm from \"./form\";\r\n\r\nimport * as userServices from \"../../services/user\";\r\n\r\nimport getErrorMessage from \"../../services/error\";\r\n\r\nimport handleInput from \"../../logic/validation\";\r\n\r\nclass AccountEditorModal extends CenteredModal {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      profile: { ...props.profile },\r\n      prevProfile: props.profile,\r\n      validation: {},\r\n      process: false,\r\n      showAlert: false,\r\n      change: false,\r\n      response: null\r\n    };\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleFailure = this.handleFailure.bind(this);\r\n\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n  }\r\n\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    if (nextProps.show === false) {\r\n      return {\r\n        profile: null,\r\n        prevProfile: null,\r\n        process: false,\r\n        showAlert: false\r\n      };\r\n    }\r\n\r\n    if (!prevState.prevProfile)\r\n      return {\r\n        profile: { ...nextProps.profile },\r\n        prevProfile: nextProps.profile\r\n      };\r\n    else return null;\r\n  }\r\n\r\n  handleChange(event) {\r\n    const { name, value } = event.target;\r\n    const { profile } = this.state;\r\n\r\n    profile[name] = value;\r\n\r\n    const isChange = obj => {\r\n      return Object.keys(obj).length !== 0;\r\n    };\r\n\r\n    this.setState({\r\n      profile,\r\n      change: isChange(this.getChange())\r\n    });\r\n\r\n    const valid = handleInput(name, value);\r\n\r\n    const validation = { ...this.state.validation };\r\n    validation[name] = valid;\r\n\r\n    this.setState({\r\n      validation\r\n    });\r\n  }\r\n\r\n  isFormValid() {\r\n    const {\r\n      username,\r\n      first_name,\r\n      last_name,\r\n      phone_number,\r\n      email,\r\n      address\r\n    } = this.state.validation;\r\n\r\n    return (\r\n      username === true &&\r\n      first_name === true &&\r\n      last_name === true &&\r\n      phone_number === true &&\r\n      email === true &&\r\n      address === true\r\n    );\r\n  }\r\n\r\n  async onSubmit() {\r\n    this.setState({ process: true });\r\n\r\n    const change = this.getChange();\r\n\r\n    const { username } = this.state.profile;\r\n\r\n    if (!this.props.self) {\r\n      const info = {\r\n        username,\r\n        ...change\r\n      };\r\n\r\n      await userServices.modify(info, this.props.onSuccess, this.handleFailure);\r\n    } else {\r\n      const info = {\r\n        ...change\r\n      };\r\n\r\n      await userServices.modifySelf(\r\n        info,\r\n        this.props.onSuccess,\r\n        this.handleFailure\r\n      );\r\n    }\r\n  }\r\n\r\n  handleFailure(res) {\r\n    const response = getErrorMessage(res);\r\n\r\n    this.setState({ showAlert: true, process: false, response });\r\n  }\r\n\r\n  getChange() {\r\n    const { profile, prevProfile } = this.state;\r\n\r\n    let change = {};\r\n\r\n    for (var key in profile) {\r\n      if (profile[key] !== prevProfile[key]) {\r\n        change[key] = profile[key];\r\n      }\r\n    }\r\n\r\n    return change;\r\n  }\r\n\r\n  getTitle() {\r\n    return \"User Profile\";\r\n  }\r\n\r\n  getBody() {\r\n    return (\r\n      <div>\r\n        <AccountEditorForm\r\n          profile={this.state.profile}\r\n          onSubmit={this.onSubmit}\r\n          handleChange={this.handleChange}\r\n          self={this.props.self}\r\n          validation={this.state.validation}\r\n        />\r\n        <Alert\r\n          variant=\"danger p-2 mb-2 mt-1\"\r\n          show={this.state.showAlert === true}\r\n        >\r\n          <small>\r\n            Oops! You got an error! Cannot update these change.\r\n            <br />\r\n            {this.state.response}\r\n          </small>\r\n        </Alert>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  getFooter() {\r\n    const { process, change } = this.state;\r\n    const valid = this.isFormValid();\r\n\r\n    return (\r\n      <ButtonToolbar>\r\n        <Button onClick={this.props.onHide} variant=\"light\" disabled={process}>\r\n          Close\r\n        </Button>\r\n        <Button onClick={this.onSubmit} disabled={process || !change || !valid}>\r\n          {process === true ? (\r\n            <>\r\n              <Spinner\r\n                as=\"span\"\r\n                animation=\"border\"\r\n                size=\"sm\"\r\n                role=\"status\"\r\n                aria-hidden=\"true\"\r\n              />{\" \"}\r\n              Processing\r\n            </>\r\n          ) : (\r\n            \"Save changes\"\r\n          )}\r\n        </Button>\r\n      </ButtonToolbar>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AccountEditorModal;\r\n","export function getDate(dt_txt) {\r\n  return dt_txt.substring(0, 10);\r\n}\r\n\r\nexport function getDayFromDate(date) {\r\n  const weekday = [\r\n    \"Sunday\",\r\n    \"Monday\",\r\n    \"Tuesday\",\r\n    \"Wednesday\",\r\n    \"Thursday\",\r\n    \"Friday\",\r\n    \"Saturday\"\r\n  ];\r\n\r\n  const dt = new Date(date);\r\n\r\n  return weekday[dt.getDay()];\r\n}\r\n\r\nexport function forecastOf(date, list) {\r\n  return list.filter(item => getDate(item.dt_txt) === date);\r\n}\r\n","import React, { Component } from \"react\";\r\nimport \"./style.css\";\r\nimport { Row, Image, Popover, Button } from \"react-bootstrap\";\r\nimport { getDate } from \"../../logic/forecast\";\r\nimport logo from \"../../img/logo.png\";\r\n\r\nconst MAX_CONTENT_LENGTH = 35;\r\n\r\nclass Notification extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      list: props.list\r\n    };\r\n  }\r\n\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    return {\r\n      list: nextProps.list\r\n    };\r\n  }\r\n\r\n  handleSelect(key) {\r\n    const newList = this.state.list.map((notify, idx) => {\r\n      if (idx === key) {\r\n        if (notify.seen !== \"true\") notify.seen = \"true\";\r\n        else notify.seen = \"false\";\r\n      }\r\n\r\n      return notify;\r\n    });\r\n\r\n    this.setState({\r\n      list: newList\r\n    });\r\n  }\r\n\r\n  markAllAsRead() {\r\n    const newList = this.state.list.map(notify => {\r\n      notify.seen = \"true\";\r\n      return notify;\r\n    });\r\n\r\n    this.setState({\r\n      list: newList\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { list } = this.state;\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <Popover.Title>\r\n          <span className=\"popover-title-text\">Notification</span>\r\n          <Button\r\n            variant=\"link p-0\"\r\n            className=\"popover-title-button\"\r\n            onClick={() => this.markAllAsRead()}\r\n          >\r\n            Mark all as read\r\n          </Button>\r\n        </Popover.Title>\r\n        <Popover.Content className=\"p-0\">\r\n          {!list ? (\r\n            <div className=\"myaccount-menu-item\">\r\n              Fail to fetch notification!\r\n            </div>\r\n          ) : list.length === 0 ? (\r\n            <div className=\"myaccount-menu-item\">\r\n              You don't have any notification!\r\n            </div>\r\n          ) : (\r\n            list.map((notify, idx) => (\r\n              <div\r\n                key={idx}\r\n                className={\r\n                  \"notify-item readed\" // + (notify.seen === \"true\" ? \" readed\" : \"\")\r\n                }\r\n                onClick={() => this.handleSelect(idx)}\r\n              >\r\n                <Row>\r\n                  <div className=\"notify-thumbnail-container\">\r\n                    <Image\r\n                      roundedCircle\r\n                      className=\"notify-thumbnail\"\r\n                      src={logo}\r\n                    />\r\n                  </div>\r\n                  <div className=\"notify-text-container\">\r\n                    <h5>Something for {notify.for_user}</h5>\r\n                    <div>\r\n                      {notify.message.length > MAX_CONTENT_LENGTH\r\n                        ? notify.message.substring(\r\n                            0,\r\n                            notify.seen === true\r\n                              ? MAX_CONTENT_LENGTH + 2\r\n                              : MAX_CONTENT_LENGTH + 1\r\n                          ) + \"...\"\r\n                        : notify.message}\r\n                    </div>\r\n                    <i className=\"text-muted\">{getDate(notify.time)}</i>\r\n                  </div>\r\n                </Row>\r\n              </div>\r\n            ))\r\n          )}\r\n          <div className=\"popover-footer\">\r\n            <Button variant=\"link p-0\">See All</Button>\r\n          </div>\r\n        </Popover.Content>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Notification;\r\n","import React, { Component } from \"react\";\r\nimport { Dropdown, Popover } from \"react-bootstrap\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nimport \"./style.css\";\r\nimport * as sessionServices from \"../../services/session\";\r\n\r\nclass MyAccountDropdownMenu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isLogout: false\r\n    };\r\n\r\n    this.handleLogout = this.handleLogout.bind(this);\r\n  }\r\n\r\n  async handleLogout() {\r\n    this.setState({ isLogout: true });\r\n    await sessionServices.logout();\r\n  }\r\n\r\n  render() {\r\n    if (this.state.isLogout === true) {\r\n      localStorage.clear();\r\n      return <Redirect to=\"/\" />;\r\n    }\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <Popover.Title>\r\n          <div className=\"popover-title-text\">\r\n            Welcome {this.props.username}!\r\n          </div>\r\n        </Popover.Title>\r\n        <Popover.Content className=\"py-2 px-0\">\r\n          <div\r\n            className=\"myaccount-menu-item\"\r\n            onClick={this.props.showProfileEditorModal}\r\n          >\r\n            View Your Profile\r\n          </div>\r\n          <div\r\n            className=\"myaccount-menu-item\"\r\n            onClick={this.props.showChangePasswordModal}\r\n          >\r\n            Change Password\r\n          </div>\r\n          <Dropdown.Divider />\r\n          <div className=\"myaccount-menu-item\" onClick={this.handleLogout}>\r\n            Sign out!\r\n          </div>\r\n        </Popover.Content>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MyAccountDropdownMenu;\r\n","import React, { Component } from \"react\";\r\nimport { Form } from \"react-bootstrap\";\r\n\r\nclass ChangePasswordForm extends Component {\r\n  render() {\r\n    return (\r\n      <Form onSubmit={this.props.onSubmit}>\r\n        <Form.Group controlId=\"password\">\r\n          <Form.Label>New Password</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            name=\"password\"\r\n            onChange={this.props.onChange}\r\n            isInvalid={!this.props.passwordValid}\r\n          />\r\n          <Form.Control.Feedback type=\"invalid\">\r\n            Password must be at least 5 characters long and must be different\r\n            from the old password\r\n          </Form.Control.Feedback>\r\n        </Form.Group>\r\n        <Form.Group controlId=\"cfPassword\">\r\n          <Form.Label>Confirm New Password</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            name=\"cfPassword\"\r\n            onChange={this.props.onChange}\r\n            isInvalid={!this.props.cfPasswordValid}\r\n          />\r\n          <Form.Control.Feedback type=\"invalid\">\r\n            Invalid confirmed password\r\n          </Form.Control.Feedback>\r\n        </Form.Group>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ChangePasswordForm;\r\n","import React from \"react\";\r\nimport { Button, ButtonToolbar, Spinner, Alert } from \"react-bootstrap\";\r\nimport ChangePasswordForm from \"./form\";\r\nimport CenteredModal from \"../CenteredModal/index\";\r\n\r\nimport handleInput from \"../../logic/validation\";\r\n\r\nimport * as userServices from \"../../services/user\";\r\n\r\nimport getErrorMessage from \"../../services/error\";\r\n\r\nclass ChangePasswordModal extends CenteredModal {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      password: null,\r\n      cfPassword: null,\r\n      passwordValid: true,\r\n      cfPasswordValid: true,\r\n      updating: null,\r\n      response: null\r\n    };\r\n\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n\r\n    this.onSuccess = this.onSuccess.bind(this);\r\n    this.onFailure = this.onFailure.bind(this);\r\n  }\r\n\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    if (nextProps.show === false)\r\n      return {\r\n        password: null,\r\n        cfPassword: null,\r\n        passwordValid: true,\r\n        cfPasswordValid: true,\r\n        updating: null\r\n      };\r\n    else return null;\r\n  }\r\n\r\n  handleChange(event) {\r\n    const { name, value } = event.target;\r\n\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n\r\n    const valid = handleInput(name, value, this.state.password);\r\n\r\n    this.setState({\r\n      [name + \"Valid\"]: valid\r\n    });\r\n\r\n    this.setState(prev => ({\r\n      cfPasswordValid:\r\n        prev.password === prev.cfPassword || prev.cfPassword === null\r\n    }));\r\n\r\n    if (name === \"password\")\r\n      this.setState(prevState => ({\r\n        passwordValid:\r\n          prevState.passwordValid &&\r\n          prevState.password !== this.props.prev.password\r\n      }));\r\n  }\r\n\r\n  async handleSubmit() {\r\n    const { password } = this.state;\r\n    this.setState({ updating: true });\r\n\r\n    if (!this.props.self) {\r\n      const { username } = this.props;\r\n\r\n      await userServices.changePassword(\r\n        username,\r\n        password,\r\n        this.onSuccess,\r\n        this.onFailure\r\n      );\r\n    } else {\r\n      await userServices.changeSelfPassword(\r\n        password,\r\n        this.onSuccess,\r\n        this.onFailure\r\n      );\r\n    }\r\n  }\r\n\r\n  onSuccess(res, req) {\r\n    this.props.onHide();\r\n    this.setState({ updating: null });\r\n    this.props.onSuccess(req);\r\n  }\r\n\r\n  onFailure(res) {\r\n    const response = getErrorMessage(res);\r\n\r\n    this.setState({ updating: false, response });\r\n  }\r\n\r\n  getTitle() {\r\n    return \"Change Password\";\r\n  }\r\n\r\n  getBody() {\r\n    const alert = (\r\n      <Alert\r\n        variant=\"danger p-2 mb-2 mt-1\"\r\n        show={this.state.updating === false}\r\n      >\r\n        <small>\r\n          Oops! You got an error! Please check your connection and try again.\r\n          <br />\r\n          {this.state.response}.\r\n        </small>\r\n      </Alert>\r\n    );\r\n\r\n    const form = (\r\n      <ChangePasswordForm\r\n        onSubmit={this.handleSubmit}\r\n        onChange={this.handleChange}\r\n        passwordValid={this.state.passwordValid}\r\n        cfPasswordValid={this.state.cfPasswordValid}\r\n      />\r\n    );\r\n\r\n    return (\r\n      <div>\r\n        {form}\r\n        {alert}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  isFormValid() {\r\n    const { password, passwordValid, cfPassword, cfPasswordValid } = this.state;\r\n\r\n    return (\r\n      password !== null &&\r\n      cfPassword !== null &&\r\n      passwordValid === true &&\r\n      cfPasswordValid === true\r\n    );\r\n  }\r\n\r\n  getFooter() {\r\n    const active = this.isFormValid() && this.state.updating !== true;\r\n\r\n    return (\r\n      <ButtonToolbar>\r\n        <Button onClick={this.props.onHide} variant=\"light\">\r\n          Close\r\n        </Button>\r\n        <Button onClick={this.handleSubmit} disabled={!active}>\r\n          {this.state.updating ? (\r\n            <div>\r\n              <Spinner\r\n                as=\"span\"\r\n                animation=\"border\"\r\n                size=\"sm\"\r\n                role=\"status\"\r\n                aria-hidden=\"true\"\r\n              />{\" \"}\r\n              Processing\r\n            </div>\r\n          ) : (\r\n            \"Save Change\"\r\n          )}\r\n        </Button>\r\n      </ButtonToolbar>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ChangePasswordModal;\r\n","import { post } from \"./base\";\r\n\r\nexport const list = onSuccess => {\r\n  const body = {\r\n    token: localStorage.getItem(\"token\")\r\n  };\r\n\r\n  post(\"/notifications/get\", body, onSuccess);\r\n};\r\n\r\nexport const read = () => {};\r\n\r\nexport const readAll = () => {};\r\n","import React, { Component } from \"react\";\r\nimport { Button, OverlayTrigger, Popover, Badge } from \"react-bootstrap\";\r\n\r\nimport AccountEditorModal from \"../AccountEditorModal\";\r\nimport Notification from \"../Notification\";\r\nimport MyAccountDropdownMenu from \"../MyAccountDropdownMenu\";\r\nimport ChangePasswordModal from \"../ChangePasswordModal\";\r\n\r\nimport * as notifyServices from \"../../services/notify\";\r\n\r\nimport \"./index.css\";\r\n\r\nclass Navbar extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      notify: null,\r\n      showProfileEditor: false,\r\n      showChangePassword: false,\r\n      showFailAlert: false,\r\n      response: null\r\n    };\r\n\r\n    this.hideProfileEditorModal = this.hideProfileEditorModal.bind(this);\r\n    this.showProfileEditorModal = this.showProfileEditorModal.bind(this);\r\n\r\n    this.hideChangePasswordModal = this.hideChangePasswordModal.bind(this);\r\n    this.showChangePasswordModal = this.showChangePasswordModal.bind(this);\r\n\r\n    this.handleFetchNotifySuccess = this.handleFetchNotifySuccess.bind(this);\r\n\r\n    this.handleModifyProfileSuccess = this.handleModifyProfileSuccess.bind(\r\n      this\r\n    );\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchNotifications();\r\n  }\r\n\r\n  hideProfileEditorModal() {\r\n    this.setState({ showProfileEditor: false });\r\n  }\r\n\r\n  showProfileEditorModal() {\r\n    this.refs.profileOverlay.hide();\r\n    if (this.props.profile) this.setState({ showProfileEditor: true });\r\n  }\r\n\r\n  hideChangePasswordModal() {\r\n    this.setState({ showChangePassword: false });\r\n  }\r\n\r\n  showChangePasswordModal() {\r\n    this.refs.profileOverlay.hide();\r\n    if (this.props.profile) this.setState({ showChangePassword: true });\r\n  }\r\n\r\n  showFailureAlert() {\r\n    this.setState({ showFailAlert: true });\r\n  }\r\n\r\n  hideFailureAlert() {\r\n    this.setState({ showFailAlert: false });\r\n  }\r\n\r\n  async fetchNotifications() {\r\n    await notifyServices.list(this.handleFetchNotifySuccess);\r\n  }\r\n\r\n  handleFetchNotifySuccess(res) {\r\n    let notifications = [];\r\n\r\n    for (var propName in res)\r\n      if (propName.startsWith(\"notification_\"))\r\n        notifications.push(res[propName]);\r\n\r\n    this.setState({ notify: notifications.reverse() });\r\n  }\r\n\r\n  handleModifyProfileSuccess(res, req) {\r\n    const { profile } = this.state;\r\n\r\n    for (var key in req) {\r\n      if (key !== \"username\" && key !== \"token\") {\r\n        profile[key] = req[key];\r\n      }\r\n    }\r\n\r\n    this.setState({\r\n      showProfileEditor: false\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const unseen = this.state.notify\r\n      ? this.state.notify.filter(n => n.seen !== \"true\").length\r\n      : 0;\r\n\r\n    const { username } = this.props.profile ? this.props.profile : {};\r\n\r\n    return (\r\n      <nav className=\"navbar navbar-white nav-fixed-top px-0\">\r\n        <span className=\"navbar-brand pl-4\">\r\n          <h3 className=\"navbar-title\">Dashboard</h3>\r\n        </span>\r\n        <span className=\"form-inline pr-2 fit-content \">\r\n          <OverlayTrigger\r\n            rootClose\r\n            trigger=\"click\"\r\n            placement=\"bottom\"\r\n            overlay={\r\n              <Popover className=\"notify-panel\">\r\n                <Notification list={this.state.notify} />\r\n              </Popover>\r\n            }\r\n          >\r\n            <Button variant=\"link p-0\">\r\n              {unseen !== 0 && (\r\n                <Badge pill variant=\"danger notification px-1\">\r\n                  {unseen}\r\n                </Badge>\r\n              )}\r\n              <i className=\"fas fa-bell navbar-icon\" />\r\n            </Button>\r\n          </OverlayTrigger>\r\n\r\n          <OverlayTrigger\r\n            rootClose\r\n            trigger=\"click\"\r\n            ref=\"profileOverlay\"\r\n            placement=\"bottom\"\r\n            overlay={\r\n              <Popover className=\"myaccount-panel\">\r\n                <MyAccountDropdownMenu\r\n                  username={username}\r\n                  showProfileEditorModal={this.showProfileEditorModal}\r\n                  showChangePasswordModal={this.showChangePasswordModal}\r\n                />\r\n              </Popover>\r\n            }\r\n          >\r\n            <Button variant=\"link p-0 mx-2\">\r\n              <i className=\"fas fa-user-circle navbar-icon\" />\r\n            </Button>\r\n          </OverlayTrigger>\r\n        </span>\r\n        <AccountEditorModal\r\n          self\r\n          profile={this.props.profile}\r\n          show={this.state.showProfileEditor}\r\n          onHide={this.hideProfileEditorModal}\r\n          onSuccess={this.handleModifyProfileSuccess}\r\n        />\r\n        <ChangePasswordModal\r\n          self\r\n          prev={this.props.profile}\r\n          show={this.state.showChangePassword}\r\n          onHide={this.hideChangePasswordModal}\r\n        />\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Navbar;\r\n","import React, { Component } from \"react\";\r\n\r\nimport \"./index.css\";\r\nimport logo from \"../../img/logo.png\";\r\n\r\nclass Avatar extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"avatar mb-2\">\r\n        <img\r\n          src={logo}\r\n          alt=\"logo\"\r\n          className=\"avatar-img rounded-circle float-left\"\r\n        ></img>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Avatar;\r\n","import React, { Component } from \"react\";\r\n// import Button from \"react-bootstrap/Button\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./index.css\";\r\nclass MenuItem extends Component {\r\n  render() {\r\n    let style = \"menu-item\" + (this.props.selected ? \" selected\" : \"\");\r\n\r\n    return (\r\n      <Link to={this.props.item.link} className=\"w-100 my-2\">\r\n        <button\r\n          className={style}\r\n          onClick={() => this.props.changeWindow(this.props.item.nameItem)}\r\n        >\r\n          <span className=\"float-left font-size-24px width-icon-35px\">\r\n            <i className={this.props.item.icon}></i>\r\n            <span className=\"px-1\">{this.props.item.nameItem}</span>\r\n          </span>\r\n        </button>\r\n      </Link>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MenuItem;\r\n","import React, { Component } from \"react\";\r\nimport MenuItem from \"../MenuItem\";\r\nimport ButtonGroup from \"react-bootstrap/ButtonGroup\";\r\n\r\nclass Menu extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"d-flex flex-column w-100\">\r\n        <ButtonGroup vertical className=\"w-100\">\r\n          {this.props.menuItems.map((item, idx) => (\r\n            <MenuItem\r\n              selected={this.props.selected === item.nameItem ? true : false}\r\n              key={idx}\r\n              item={item}\r\n              changeWindow={this.props.changeWindow}\r\n            ></MenuItem>\r\n          ))}\r\n        </ButtonGroup>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Menu;\r\n","import React, { Component } from \"react\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"../MenuItem/index.css\";\r\nclass MenuItemNoTitle extends Component {\r\n  render() {\r\n    let style = \"menu-item\" + (this.props.selected ? \" selected\" : \"\");\r\n\r\n    return (\r\n      <Link to={this.props.item.link} className=\"w-100 pt-3\">\r\n        <Button\r\n          className={style}\r\n          onClick={() => this.props.changeWindow(this.props.item.nameItem)}\r\n          variant=\"primary w-100\"\r\n        >\r\n          <span className=\"float-left font-size-24px width-icon-35px\">\r\n            <i className={this.props.item.icon}></i>\r\n          </span>\r\n        </Button>\r\n      </Link>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MenuItemNoTitle;\r\n","import React, { Component } from \"react\";\r\nimport MenuItemNoTitle from \"../MenuItemNoTitle\";\r\nimport ButtonGroup from \"react-bootstrap/ButtonGroup\";\r\nimport \"./index.css\";\r\n\r\nclass MenuNoTitle extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"d-flex flex-column w-100\">\r\n        <ButtonGroup vertical className=\"w-100\">\r\n          {this.props.menuItems.map((item, idx) => (\r\n            <MenuItemNoTitle\r\n              selected={this.props.selected === item.nameItem ? true : false}\r\n              key={idx}\r\n              item={item}\r\n              changeWindow={this.props.changeWindow}\r\n            ></MenuItemNoTitle>\r\n          ))}\r\n        </ButtonGroup>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MenuNoTitle;\r\n","import React, { Component } from \"react\";\r\nimport Avatar from \"../Avatar\";\r\nimport Menu from \"../Menu\";\r\nimport MenuNoTitle from \"../MenuNoTitle\";\r\nimport \"./index.css\";\r\nclass Leftbar extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      menuItems: [\r\n        {\r\n          link: \"/dashboard\",\r\n          icon: \"fas fa-chart-line\",\r\n          nameItem: \"Room Status\"\r\n        },\r\n        {\r\n          link: \"/dashboard/forecasts\",\r\n          icon: \"fas fa-cloud-sun\",\r\n          nameItem: \"Forecasts\"\r\n        },\r\n        {\r\n          link: \"/dashboard/remotes\",\r\n          icon: \"fas fa-gamepad\",\r\n          nameItem: \"Remotes\"\r\n        },\r\n        {\r\n          link: \"/dashboard/accounts\",\r\n          icon: \"fas fa-user-circle\",\r\n          nameItem: \"Accounts\"\r\n        }\r\n      ],\r\n      selected: \"Room Status\"\r\n    };\r\n\r\n    this.changeWindow = this.changeWindow.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getCurrentWindow();\r\n  }\r\n\r\n  getCurrentWindow() {\r\n    const path = window.location.href;\r\n    const selected = [...this.state.menuItems]\r\n      .reverse()\r\n      .find(item => path.includes(item.link));\r\n\r\n    this.setState({\r\n      selected: selected.nameItem\r\n    });\r\n  }\r\n\r\n  changeWindow = nameWindow => {\r\n    this.setState({\r\n      selected: nameWindow\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { menuItems } = this.state;\r\n    const length = menuItems.length;\r\n\r\n    const finalMenu =\r\n      this.props.isAdmin === true ? menuItems : menuItems.slice(0, length - 1);\r\n\r\n    return (\r\n      <div>\r\n        <div className=\"leftbar d-none d-md-block\">\r\n          <Avatar avatar={this.props.avatar}></Avatar>\r\n          <Menu\r\n            selected={this.state.selected}\r\n            menuItems={finalMenu}\r\n            changeWindow={this.changeWindow}\r\n          ></Menu>\r\n        </div>\r\n        <div className=\"leftbar d-block d-md-none max-width-59\">\r\n          <div className=\"small-logo\"></div>\r\n          <MenuNoTitle\r\n            selected={this.state.selected}\r\n            menuItems={finalMenu}\r\n            changeWindow={this.changeWindow}\r\n          ></MenuNoTitle>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Leftbar;\r\n","import React, { Component } from \"react\";\r\nimport Chart from \"react-apexcharts\";\r\nimport \"./index.css\";\r\nimport { Card } from \"react-bootstrap\";\r\n\r\nclass ChartStatus extends Component {\r\n  render() {\r\n    const options = {\r\n      chart: {\r\n        stacked: false,\r\n        height: 350,\r\n        zoom: {\r\n          type: \"x\",\r\n          enabled: true,\r\n          autoScaleYaxis: true\r\n        },\r\n        toolbar: {\r\n          show: true,\r\n          tools: {\r\n            download: true,\r\n            selection: true,\r\n            zoom: false,\r\n            zoomin: true,\r\n            zoomout: true,\r\n            pan: false,\r\n            reset: false,\r\n            customIcons: []\r\n          },\r\n          autoSelected: \"zoom\"\r\n        }\r\n      }\r\n    };\r\n\r\n    const { series, theme, categories, title } = this.props;\r\n\r\n    return (\r\n      <Card className=\"panel-item app devices mixed-chart\">\r\n        <Card.Title>{title}</Card.Title>\r\n        <Card.Body>\r\n          <Chart\r\n            options={{\r\n              ...options,\r\n              theme,\r\n              xaxis: {\r\n                categories,\r\n                labels: { show: false }\r\n              }\r\n            }}\r\n            series={series}\r\n            type=\"area\"\r\n            width=\"100%\"\r\n          />\r\n        </Card.Body>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ChartStatus;\r\n","import React, { Component } from \"react\";\r\nimport ChartStatus from \"../ChartStatus/index\";\r\nimport convertIndexesToChart from \"../../logic/indexesToChart\";\r\n\r\nclass ChartsPanel extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      Temperature: {\r\n        title: \"Temperature\",\r\n        color: \"#ff6347\",\r\n        series: [\r\n          {\r\n            name: \"Temperature\",\r\n            data: []\r\n          }\r\n        ]\r\n      },\r\n      Humidity: {\r\n        title: \"Humidity\",\r\n        color: \"#007bff\",\r\n        series: [\r\n          {\r\n            name: \"Humidity\",\r\n            data: []\r\n          }\r\n        ]\r\n      },\r\n      AQI: {\r\n        title: \"AQI\",\r\n        color: \"#008000\",\r\n        series: [\r\n          {\r\n            name: \"AQI\",\r\n            data: []\r\n          }\r\n        ]\r\n      },\r\n      categories: []\r\n    };\r\n  }\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    if (!props.data) return null;\r\n\r\n    const { data } = props;\r\n\r\n    const result = convertIndexesToChart(data);\r\n\r\n    let prev = { ...state };\r\n    prev.Temperature.series[0].data = result.Temperature;\r\n    prev.Humidity.series[0].data = result.Humidity;\r\n    prev.AQI.series[0].data = result.AQI;\r\n    prev.categories = result.categories;\r\n\r\n    return prev;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"panel\">\r\n        {[\"AQI\", \"Humidity\", \"Temperature\"].map((item, idx) => {\r\n          const { color, title, series } = this.state[item];\r\n          const { categories } = this.state;\r\n          return (\r\n            <ChartStatus\r\n              key={idx}\r\n              theme={{\r\n                mode: \"light\",\r\n                monochrome: {\r\n                  enabled: true,\r\n                  color,\r\n                  shadeTo: \"light\",\r\n                  shadeIntensity: 0.65\r\n                }\r\n              }}\r\n              title={title}\r\n              series={series}\r\n              categories={categories}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ChartsPanel;\r\n","export default function convertIndexesToChart(data) {\r\n  let indexes2Chart = {\r\n    AQI: [],\r\n    Humidity: [],\r\n    Temperature: []\r\n  };\r\n\r\n  let categories = [];\r\n\r\n  const LASTEST = new Date(data[data.length - 1].Date);\r\n\r\n  const STEP = 20; // minutes;\r\n  const MINUTE_TO_MILLISECOND = 60000;\r\n\r\n  let currentTime = new Date(data[0].Date).getTime();\r\n\r\n  let index = 0;\r\n\r\n  while (currentTime <= LASTEST.getTime()) {\r\n    const currentDate = new Date(currentTime);\r\n    let currentData = data.find(d => {\r\n      const tmpDate = new Date(d.Date);\r\n      return (\r\n        tmpDate.getHours() === currentDate.getHours() &&\r\n        tmpDate.getMinutes() === currentDate.getMinutes()\r\n      );\r\n    });\r\n\r\n    if (!currentData) {\r\n      currentData = {\r\n        AQI: 0,\r\n        Humidity: 0,\r\n        Temperature: 0,\r\n        Date:\r\n          currentDate.toISOString().substring(0, 10) +\r\n          \" \" +\r\n          currentDate.toLocaleTimeString()\r\n      };\r\n    }\r\n\r\n    indexes2Chart.AQI[index] = currentData.AQI;\r\n    indexes2Chart.Humidity[index] = currentData.Humidity;\r\n    indexes2Chart.Temperature[index] = currentData.Temperature;\r\n    categories[index] = currentData.Date;\r\n\r\n    index++;\r\n    currentTime += STEP * MINUTE_TO_MILLISECOND;\r\n  }\r\n\r\n  return {\r\n    ...indexes2Chart,\r\n    categories\r\n  };\r\n}\r\n","const calcTimeUpdated = past => {\r\n  const current = new Date();\r\n\r\n  const deltaHour = current.getHours() - past.hours;\r\n  const deltaMinutes = current.getMinutes() - past.minutes;\r\n  const deltaSecond = current.getSeconds() - past.seconds;\r\n\r\n  let text;\r\n\r\n  const deltaTime = deltaHour * 3600 + deltaMinutes * 60 + deltaSecond;\r\n\r\n  if (deltaTime >= 7200)\r\n    text = Math.floor(deltaTime / 3600).toString() + \" hours ago\";\r\n  else if (deltaTime >= 3600)\r\n    text = Math.floor(deltaTime / 3600).toString() + \" hour ago\";\r\n  else if (deltaTime >= 120)\r\n    text = Math.floor(deltaTime / 60).toString() + \" minutes ago\";\r\n  else if (deltaTime >= 60)\r\n    text = Math.floor(deltaTime / 60).toString() + \" minute ago\";\r\n  else text = \"Updated\";\r\n\r\n  return text;\r\n};\r\n\r\nexport default calcTimeUpdated;\r\n","import React, { Component } from \"react\";\r\nimport { Card, Button, Spinner } from \"react-bootstrap\";\r\n\r\nimport calcTimeUpdated from \"../../logic/calcTime\";\r\n\r\nimport \"./index.css\";\r\n\r\nclass IndexCard extends Component {\r\n  componentDidMount() {\r\n    this.interval = setInterval(() => {\r\n      this.compareTime();\r\n    }, 1000);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.interval);\r\n  }\r\n\r\n  compareTime() {\r\n    if (this.props.notify === \"Update now\") return;\r\n\r\n    if (this.props.timeUpdate.hours === -1) return;\r\n\r\n    // Set value hours, minutes, seconds = -2 when \"Failed to get data\"\r\n    if (this.props.timeUpdate.hours === -2) {\r\n      this.props.changeNotify(\"Failed to get data\");\r\n      return;\r\n    }\r\n\r\n    const text = calcTimeUpdated(this.props.timeUpdate);\r\n    this.props.changeNotify(text);\r\n  }\r\n\r\n  render() {\r\n    const { index } = this.props;\r\n\r\n    return (\r\n      <Card className=\"panel-item\">\r\n        <Card.Body>\r\n          <div className=\"row\">\r\n            <div className=\"col-3\">\r\n              <i className={index.icon}></i>\r\n            </div>\r\n            <div className=\"col-9 text-content\">\r\n              <div className=\"index-panel-title\">{index.title}</div>\r\n              <div className=\"index-panel-index\">{index.index}</div>\r\n            </div>\r\n          </div>\r\n        </Card.Body>\r\n        <Card.Footer>\r\n          {this.props.notify === \"Updating...\" ? (\r\n            <Button variant=\"link\" disabled>\r\n              <Spinner\r\n                as=\"span\"\r\n                animation=\"border\"\r\n                size=\"sm\"\r\n                role=\"status\"\r\n                aria-hidden=\"true\"\r\n                variant=\"primary\"\r\n              />{\" \"}\r\n              Updating...\r\n            </Button>\r\n          ) : (\r\n            <span>\r\n              <Button\r\n                variant=\"link\"\r\n                onClick={() => {\r\n                  this.props.handUpdateData();\r\n                  this.props.changeNotify(\"Updating...\");\r\n                }}\r\n              >\r\n                <i className=\"fas fa-redo\" />\r\n                <span> Update</span>\r\n              </Button>\r\n              <i className=\"text-muted btn float-right\">\r\n                <small>{this.props.notify}</small>\r\n              </i>\r\n            </span>\r\n          )}\r\n        </Card.Footer>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nexport default IndexCard;\r\n","import React, { Component } from \"react\";\r\nimport IndexCard from \"../IndexCard\";\r\n\r\nclass IndexesPanel extends Component {\r\n  state = {\r\n    notify: \"Update now\",\r\n    indexes: [\r\n      {\r\n        title: \"AQI\",\r\n        index: \"-- PM2.5\",\r\n        icon: \"fas fa-wind item-icon-green p-3\"\r\n      },\r\n      {\r\n        title: \"Humidity\",\r\n        index: \"-- %\",\r\n        icon: \"fas fa-tint item-icon-blue p-3\"\r\n      },\r\n      {\r\n        title: \"Temperature\",\r\n        index: \"-- C\",\r\n        icon: \"fas fa-temperature-low item-icon-orange p-3\"\r\n      }\r\n    ]\r\n  };\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    if (!props.data) return null;\r\n\r\n    const { data } = props;\r\n\r\n    // const lengthData = data.length;\r\n\r\n    // if (lengthData === 0) return null;\r\n\r\n    // const nowAQI = data[lengthData - 1].AQI;\r\n    // const nowHumidity = data[lengthData - 1].Humidity;\r\n    // const nowTemperature = data[lengthData - 1].Temperature;\r\n\r\n    let indexes = state.indexes;\r\n\r\n    indexes[0].index = data.AQI + \" PM2.5\";\r\n    indexes[1].index = data.Humidity + \" %\";\r\n    indexes[2].index = data.Temperature + \" C\";\r\n\r\n    return { indexes };\r\n  }\r\n\r\n  changeNotify = text => {\r\n    this.setState({ notify: text });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"panel mb-4\">\r\n        {this.state.indexes.map((item, idx) => (\r\n          <IndexCard\r\n            key={idx}\r\n            index={item}\r\n            notify={this.state.notify}\r\n            timeUpdate={this.props.timeUpdate}\r\n            handUpdateData={this.props.handUpdateData}\r\n            changeNotify={this.changeNotify}\r\n          />\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default IndexesPanel;\r\n","import React, { Component } from \"react\";\r\n\r\nimport ChartsPanel from \"../ChartsPanel\";\r\nimport IndexesPanel from \"../IndexesPanel\";\r\n\r\nimport \"./index.css\";\r\n\r\nclass RoomStatus extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"p-4\">\r\n        <IndexesPanel\r\n          data={this.props.indexes}\r\n          timeUpdate={this.props.timeUpdate}\r\n          handUpdateData={this.props.handUpdateData}\r\n        />\r\n        <ChartsPanel data={this.props.chart} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default RoomStatus;\r\n","import React, { Component } from \"react\";\r\nimport { Table, Image } from \"react-bootstrap\";\r\n\r\nclass ForecastDetail extends Component {\r\n  render() {\r\n    const convertToCDegree = ktemp => {\r\n      return Math.round(ktemp - 273) + \"\";\r\n    };\r\n\r\n    return (\r\n      <Table responsive hover>\r\n        <thead>\r\n          <tr>\r\n            <th>\r\n              <i className=\"far fa-clock\"></i> Time\r\n            </th>\r\n            <th>\r\n              <i className=\"fas fa-cloud-sun\"></i> Weather\r\n            </th>\r\n            <th>\r\n              <i className=\"fas fa-temperature-low\"></i> Temperature\r\n            </th>\r\n            <th>\r\n              <i className=\"fas fa-tint\"></i> Humidity\r\n            </th>\r\n            <th>\r\n              <i className=\"fas fa-water\"></i> Pressure\r\n            </th>\r\n            <th>\r\n              <i className=\"fas fa-wind\"></i> Wind\r\n            </th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {this.props.list.map((item, idx) => (\r\n            <tr key={idx}>\r\n              <td>{item.dt_txt.substring(10)}</td>\r\n              <td>\r\n                <Image\r\n                  src={`http://openweathermap.org/img/w/${item.weather[0].icon}.png`}\r\n                />\r\n                <span> {item.weather[0].description}</span>\r\n              </td>\r\n              <td>{convertToCDegree(item.main.temp)}</td>\r\n              <td>{item.main.humidity + \"%\"}</td>\r\n              <td>{item.main.pressure}</td>\r\n              <td>{item.wind.deg + \" \" + item.wind.speed + \"m/s\"}</td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </Table>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ForecastDetail;\r\n","import React, { Component } from \"react\";\r\nimport GoogleMapReact from \"google-map-react\";\r\nimport \"./style.css\";\r\n\r\nclass SimpleMap extends Component {\r\n  render() {\r\n    return (\r\n      // Important! Always set the container height explicitly\r\n      <div className=\"map\">\r\n        <GoogleMapReact\r\n          bootstrapURLKeys={{ key: \"AIzaSyDrB9CBk5Z0DOtwo03MgMZF8I3Es5_-dhc\" }}\r\n          defaultCenter={this.props.defaultCenter}\r\n          center={this.props.center}\r\n          defaultZoom={this.props.zoom}\r\n        ></GoogleMapReact>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SimpleMap;\r\n","import React, { Component } from \"react\";\r\nimport { Accordion, Card, Button, Row, Col, Spinner } from \"react-bootstrap\";\r\nimport { forecastOf, getDayFromDate } from \"../../logic/forecast\";\r\nimport getDateList from \"../../logic/datelist\";\r\nimport ForecastDetail from \"../ForecastDetail\";\r\nimport CITY_LIST from \"../../resources/citylist.json\";\r\nimport Select from \"react-select\";\r\nimport Map from \"../Map\";\r\n\r\nimport \"./style.css\";\r\n\r\nconst LIMIT = 500;\r\n\r\nclass ForecastsWindow extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      info: {},\r\n      city: CITY_LIST.sort((a, b) => (a.name < b.name ? -1 : 1)).slice(\r\n        0,\r\n        LIMIT\r\n      ),\r\n      select: null,\r\n      searching: false,\r\n      expand: null\r\n    };\r\n\r\n    this.myRef = React.createRef();\r\n\r\n    this.filterCity = this.filterCity.bind(this);\r\n    this.handleSelect = this.handleSelect.bind(this);\r\n    this.handleSearch = this.handleSearch.bind(this);\r\n    this.scroll = this.scrollIntoForecast.bind(this);\r\n  }\r\n\r\n  fetchWeather(cityId) {\r\n    const APP_ID = \"e1b174f84d2289015179653f49b5ebea\";\r\n\r\n    fetch(\r\n      `https://api.openweathermap.org/data/2.5/forecast?id=${cityId}&APPID=${APP_ID}`\r\n    )\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        this.setState({ info: data, searching: false });\r\n        this.scrollIntoForecast();\r\n      })\r\n      .catch(console.log);\r\n  }\r\n\r\n  handleSearch() {\r\n    this.setState({\r\n      searching: true,\r\n      info: {},\r\n      expand: null\r\n    });\r\n\r\n    this.fetchWeather(this.state.select.id);\r\n  }\r\n\r\n  handleExpand(idx) {\r\n    this.setState(prev => ({\r\n      expand: prev.expand === idx ? null : idx\r\n    }));\r\n  }\r\n\r\n  handleSelect(option) {\r\n    this.setState({\r\n      select: option.value\r\n    });\r\n  }\r\n\r\n  filterCity(value) {\r\n    const match = CITY_LIST.filter(city =>\r\n      city.name.toLowerCase().startsWith(value.toLowerCase())\r\n    );\r\n\r\n    this.setState({\r\n      city: match.slice(0, LIMIT)\r\n    });\r\n  }\r\n\r\n  scrollIntoForecast() {\r\n    this.myRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n  }\r\n\r\n  savePdfFile() {}\r\n\r\n  render() {\r\n    const list = this.state.info.list;\r\n\r\n    const defaultLocation = {\r\n      lat: 21.0245,\r\n      lng: 105.841171\r\n    };\r\n\r\n    return (\r\n      <div className=\"p-4\">\r\n        <Card>\r\n          <Card.Title>Locate Your City</Card.Title>\r\n          <Card.Body>\r\n            <Row className=\"panel\">\r\n              <Col>\r\n                <Select\r\n                  name=\"devices\"\r\n                  placeholder=\"Select city\"\r\n                  onInputChange={this.filterCity}\r\n                  onChange={this.handleSelect}\r\n                  options={this.state.city.map(option => ({\r\n                    value: option,\r\n                    label: `${option.name} (${option.country})`\r\n                  }))}\r\n                />\r\n              </Col>\r\n              <div className=\"btn-search-container\">\r\n                <Button\r\n                  onClick={this.handleSearch}\r\n                  disabled={!this.state.select || this.state.searching}\r\n                >\r\n                  {this.state.searching ? (\r\n                    <span>\r\n                      <Spinner\r\n                        as=\"span\"\r\n                        animation=\"border\"\r\n                        size=\"sm\"\r\n                        role=\"status\"\r\n                        aria-hidden=\"true\"\r\n                      />{\" \"}\r\n                      Searching...\r\n                    </span>\r\n                  ) : (\r\n                    <span>\r\n                      <i className=\"fas fa-search\"></i> Search\r\n                    </span>\r\n                  )}\r\n                </Button>\r\n              </div>\r\n            </Row>\r\n            <Row>\r\n              <Map\r\n                center={\r\n                  this.state.select\r\n                    ? {\r\n                        lat: this.state.select.coord.lat,\r\n                        lng: this.state.select.coord.lon\r\n                      }\r\n                    : defaultLocation\r\n                }\r\n                defaultCenter={defaultLocation}\r\n                zoom={11}\r\n              />\r\n            </Row>\r\n          </Card.Body>\r\n        </Card>\r\n        {list && (\r\n          <Card className=\"panel mt-4\" ref={this.myRef}>\r\n            <Card.Title>5-day Wearther Forecast</Card.Title>\r\n            <Card.Body>\r\n              <Accordion>\r\n                {getDateList(list).map((date, idx) => (\r\n                  <div key={idx}>\r\n                    <Card.Header className=\"bg-light-blue\">\r\n                      <Row>\r\n                        <Col className=\"white-text\">\r\n                          <h3>{getDayFromDate(date)}</h3>\r\n                          {date}\r\n                        </Col>\r\n\r\n                        <Col className=\"btn-expand\">\r\n                          <Accordion.Toggle\r\n                            as={Button}\r\n                            variant=\"link\"\r\n                            eventKey={idx}\r\n                            onClick={() => this.handleExpand(idx)}\r\n                          >\r\n                            Hourly{\" \"}\r\n                            <i\r\n                              className={\r\n                                \"fas fa-chevron-down rotate \" +\r\n                                (this.state.expand === idx ? \"down\" : \"\")\r\n                              }\r\n                            />\r\n                          </Accordion.Toggle>\r\n                        </Col>\r\n                      </Row>\r\n                    </Card.Header>\r\n                    <Accordion.Collapse eventKey={idx}>\r\n                      <Card.Body>\r\n                        <div>\r\n                          <ForecastDetail list={forecastOf(date, list)} />\r\n                        </div>\r\n                      </Card.Body>\r\n                    </Accordion.Collapse>\r\n                  </div>\r\n                ))}\r\n              </Accordion>\r\n            </Card.Body>\r\n            <Card.Footer>\r\n              <Button\r\n                variant=\"link\"\r\n                className=\"p-0 float-left\"\r\n                onClick={this.savePdfFile.bind(this)}\r\n              >\r\n                <i className=\"fas fa-print\"></i> Print\r\n              </Button>\r\n            </Card.Footer>\r\n          </Card>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ForecastsWindow;\r\n","export default function getDateList(list) {\r\n  let out = [];\r\n\r\n  list.forEach(item => {\r\n    const date = item.dt_txt.substring(0, 10);\r\n    if (out.indexOf(date) === -1) {\r\n      out.push(date);\r\n    }\r\n  });\r\n  return out;\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Form, Col } from \"react-bootstrap\";\r\n\r\nclass AccountAdditionForm extends Component {\r\n  render() {\r\n    const { validation } = this.props;\r\n\r\n    return (\r\n      <Form>\r\n        <Form.Group controlId=\"username\">\r\n          <Form.Label>Username</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            name=\"username\"\r\n            onChange={this.props.handleChange}\r\n            isInvalid={validation.username === false}\r\n          />\r\n          <Form.Control.Feedback type=\"invalid\">\r\n            Username is between 5 and 10 characters long and do not contain\r\n            special characters\r\n          </Form.Control.Feedback>\r\n        </Form.Group>\r\n        <Form.Row>\r\n          <Col>\r\n            <Form.Group controlId=\"password\">\r\n              <Form.Label>Password</Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                name=\"password\"\r\n                onChange={this.props.handleChange}\r\n                isInvalid={validation.password === false}\r\n              />\r\n              <Form.Control.Feedback type=\"invalid\">\r\n                Password is between 5 and 15 characters long and do not contain\r\n                space\r\n              </Form.Control.Feedback>\r\n            </Form.Group>\r\n          </Col>\r\n          <Col>\r\n            <Form.Group controlId=\"cfPassword\">\r\n              <Form.Label>Confirm Password</Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                name=\"cfPassword\"\r\n                onChange={this.props.handleChange}\r\n                isInvalid={validation.cfPassword === false}\r\n              />\r\n              <Form.Control.Feedback type=\"invalid\">\r\n                Retype wrong password\r\n              </Form.Control.Feedback>\r\n            </Form.Group>\r\n          </Col>\r\n        </Form.Row>\r\n        <Form.Row>\r\n          <Col>\r\n            <Form.Group controlId=\"first_name\">\r\n              <Form.Label>First Name</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                name=\"first_name\"\r\n                onChange={this.props.handleChange}\r\n                isInvalid={validation.first_name === false}\r\n              />\r\n              <Form.Control.Feedback type=\"invalid\">\r\n                Invalid first name\r\n              </Form.Control.Feedback>\r\n            </Form.Group>\r\n          </Col>\r\n          <Col>\r\n            <Form.Group controlId=\"last_name\">\r\n              <Form.Label>Last Name</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                name=\"last_name\"\r\n                onChange={this.props.handleChange}\r\n                isInvalid={validation.last_name === false}\r\n              />\r\n              <Form.Control.Feedback type=\"invalid\">\r\n                Invalid last name\r\n              </Form.Control.Feedback>\r\n            </Form.Group>\r\n          </Col>\r\n        </Form.Row>\r\n        <Form.Group controlId=\"email\">\r\n          <Form.Label>Email</Form.Label>\r\n          <Form.Control\r\n            type=\"email\"\r\n            name=\"email\"\r\n            onChange={this.props.handleChange}\r\n            isInvalid={validation.email === false}\r\n          />\r\n          <Form.Control.Feedback type=\"invalid\">\r\n            Invalid email address\r\n          </Form.Control.Feedback>\r\n        </Form.Group>\r\n        <Form.Group controlId=\"address\">\r\n          <Form.Label>Address</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            name=\"address\"\r\n            onChange={this.props.handleChange}\r\n            isInvalid={validation.address === false}\r\n          />\r\n          <Form.Control.Feedback type=\"invalid\">\r\n            Invalid address\r\n          </Form.Control.Feedback>\r\n        </Form.Group>\r\n        <Form.Row>\r\n          <Col>\r\n            <Form.Group controlId=\"gender\">\r\n              <Form.Label>Gender</Form.Label>\r\n\r\n              <Form.Control\r\n                as=\"select\"\r\n                name=\"gender\"\r\n                onChange={this.props.handleChange}\r\n              >\r\n                <option>Male</option>\r\n                <option>Female</option>\r\n                <option>Other</option>\r\n              </Form.Control>\r\n            </Form.Group>\r\n          </Col>\r\n          <Col>\r\n            <Form.Group controlId=\"phone_number\">\r\n              <Form.Label>Phone Number</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                name=\"phone_number\"\r\n                onChange={this.props.handleChange}\r\n                isInvalid={validation.phone_number === false}\r\n              />\r\n              <Form.Control.Feedback type=\"invalid\">\r\n                Invalid phone number\r\n              </Form.Control.Feedback>\r\n            </Form.Group>\r\n          </Col>\r\n          <Col>\r\n            <Form.Group controlId=\"role\">\r\n              <Form.Label>Role</Form.Label>\r\n              <Form.Control\r\n                as=\"select\"\r\n                name=\"role\"\r\n                defaultValue=\"standard\"\r\n                onChange={this.props.handleChange}\r\n                disabled={this.props.self}\r\n              >\r\n                <option>standard</option>\r\n                <option>admin</option>\r\n              </Form.Control>\r\n            </Form.Group>\r\n          </Col>\r\n        </Form.Row>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AccountAdditionForm;\r\n","import CenteredModal from \"../CenteredModal/index\";\r\nimport React from \"react\";\r\nimport { Button, ButtonToolbar, Alert, Spinner } from \"react-bootstrap\";\r\nimport AccountAdditionForm from \"./form\";\r\n\r\nimport * as userServices from \"../../services/user\";\r\n\r\nimport getErrorMessage from \"../../services/error\";\r\n\r\nimport handleInput from \"../../logic/validation\";\r\n\r\nclass AccountAdditionModal extends CenteredModal {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      username: null,\r\n      password: null,\r\n      cfPassword: null,\r\n      first_name: null,\r\n      last_name: null,\r\n      phone_number: null,\r\n      email: null,\r\n      gender: \"Male\",\r\n      address: null,\r\n      role: \"standard\",\r\n      validation: {},\r\n      showAlert: false,\r\n      process: false,\r\n      response: null\r\n    };\r\n\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n    this.handleFailure = this.handleFailure.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    if (nextProps.show === false) {\r\n      return {\r\n        process: false,\r\n        showAlert: false\r\n      };\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  handleChange(event) {\r\n    const { name, value } = event.target;\r\n\r\n    this.setState({\r\n      [name]: value\r\n    });\r\n\r\n    const valid = handleInput(name, value, this.state.password);\r\n\r\n    const validation = { ...this.state.validation };\r\n    validation[name] = valid;\r\n\r\n    if (name === \"password\" && this.state.cfPassword)\r\n      validation[\"cfPassword\"] = handleInput(\r\n        \"cfPassword\",\r\n        this.state.cfPassword,\r\n        value\r\n      );\r\n\r\n    this.setState({\r\n      validation\r\n    });\r\n  }\r\n\r\n  async onSubmit() {\r\n    this.setState({ process: true });\r\n\r\n    const {\r\n      username,\r\n      password,\r\n      first_name,\r\n      last_name,\r\n      phone_number,\r\n      email,\r\n      gender,\r\n      address,\r\n      role\r\n    } = this.state;\r\n\r\n    const user = {\r\n      username,\r\n      password,\r\n      first_name,\r\n      last_name,\r\n      phone_number,\r\n      email,\r\n      gender,\r\n      address,\r\n      role\r\n    };\r\n\r\n    this.setState(prevState => ({ temp: prevState.temp + 1 }));\r\n\r\n    await userServices.add(user, this.props.onSuccess, this.handleFailure);\r\n  }\r\n\r\n  handleFailure(res) {\r\n    const response = getErrorMessage(res);\r\n\r\n    this.setState({ showAlert: true, process: false, response });\r\n  }\r\n\r\n  getTitle() {\r\n    return \"Add a new account\";\r\n  }\r\n\r\n  isFormValid() {\r\n    const {\r\n      username,\r\n      cfPassword,\r\n      password,\r\n      first_name,\r\n      last_name,\r\n      phone_number,\r\n      email,\r\n      address\r\n    } = this.state.validation;\r\n\r\n    return (\r\n      username === true &&\r\n      password === true &&\r\n      cfPassword === true &&\r\n      first_name === true &&\r\n      last_name === true &&\r\n      phone_number === true &&\r\n      email === true &&\r\n      address === true\r\n    );\r\n  }\r\n\r\n  getBody() {\r\n    return (\r\n      <div>\r\n        <AccountAdditionForm\r\n          onSubmit={this.onSubmit}\r\n          handleChange={this.handleChange}\r\n          validation={this.state.validation}\r\n        />\r\n        <Alert\r\n          variant=\"danger p-2 mb-2 mt-1\"\r\n          show={this.state.showAlert === true}\r\n        >\r\n          <small>\r\n            Oops! You got an error! Cannot create new account.\r\n            <br />\r\n            {this.state.response}\r\n          </small>\r\n        </Alert>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  getFooter() {\r\n    const { process } = this.state;\r\n    const valid = this.isFormValid();\r\n\r\n    return (\r\n      <ButtonToolbar>\r\n        <Button onClick={this.props.onHide} variant=\"light\" disabled={process}>\r\n          Close\r\n        </Button>\r\n        <Button onClick={this.onSubmit} disabled={process || !valid}>\r\n          {process === true ? (\r\n            <>\r\n              <Spinner\r\n                as=\"span\"\r\n                animation=\"border\"\r\n                size=\"sm\"\r\n                role=\"status\"\r\n                aria-hidden=\"true\"\r\n              />{\" \"}\r\n              Processing\r\n            </>\r\n          ) : (\r\n            \"Save changes\"\r\n          )}\r\n        </Button>\r\n      </ButtonToolbar>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AccountAdditionModal;\r\n","import React, { Component } from \"react\";\r\nimport {\r\n  Card,\r\n  Form,\r\n  Button,\r\n  Table,\r\n  Spinner,\r\n  FormCheck,\r\n  ButtonGroup\r\n} from \"react-bootstrap\";\r\nimport Tooltip from \"react-tooltip\";\r\n\r\nimport CenteredAlert from \"../CenteredAlert\";\r\nimport AccountEditorModal from \"../AccountEditorModal\";\r\nimport AccountAdditionModal from \"../AccountAdditionModal\";\r\nimport ChangePasswordModal from \"../ChangePasswordModal\";\r\n\r\nimport \"../../logic/string\";\r\nimport * as userServices from \"../../services/user\";\r\n\r\nimport \"./style.css\";\r\n\r\nconst DIRECTION = {\r\n  NONE: \"fas fa-sort\",\r\n  DOWN: \"fas fa-sort-down\",\r\n  UP: \"fas fa-sort-up\"\r\n};\r\n\r\nclass AccountsPanel extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      username: null,\r\n      locking_state: null,\r\n\r\n      alert: {\r\n        action: null,\r\n        title: null,\r\n        body: null\r\n      },\r\n\r\n      sortIcon: {\r\n        username: DIRECTION.NONE,\r\n        first_name: DIRECTION.NONE,\r\n        last_name: DIRECTION.NONE,\r\n        gender: DIRECTION.NONE,\r\n        address: DIRECTION.NONE,\r\n        email: DIRECTION.NONE,\r\n        phone_number: DIRECTION.NONE,\r\n        role: DIRECTION.NONE,\r\n        locking_state: DIRECTION.NONE\r\n      }\r\n    };\r\n\r\n    // Fetch from server\r\n    this.fetchLockingState = this.fetchLockingState.bind(this);\r\n    this.fetchDeleteAccount = this.fetchDeleteAccount.bind(this);\r\n\r\n    this.handleChangeFilter = this.handleChangeFilter.bind(this);\r\n  }\r\n\r\n  handleChangeFilter(event) {\r\n    const { name, value } = event.target;\r\n    this.props.filter(name, value);\r\n  }\r\n\r\n  // Handle click button\r\n  handleClickRemove(idx) {\r\n    const { username } = this.props.list[idx];\r\n\r\n    this.setState({\r\n      username,\r\n      alert: {\r\n        action: \"delete\",\r\n        title: `Delete Account`,\r\n        body: (\r\n          <div>\r\n            Do you sure want to delete account <strong>{username}</strong>. This\r\n            action cannot be undo!\r\n          </div>\r\n        )\r\n      }\r\n    });\r\n\r\n    this.props.show.alert();\r\n  }\r\n\r\n  handleClickLock(idx) {\r\n    const { username, locking_state } = this.props.list[idx];\r\n\r\n    this.setState({\r\n      username,\r\n      locking_state,\r\n      alert: {\r\n        action: \"lock\",\r\n        title: `${locking_state === \"lock\" ? \"Unlock\" : \"Lock\"} Account`,\r\n        body: (\r\n          <div>\r\n            Do you sure want to {locking_state === \"lock\" ? \"unlock\" : \"lock\"}{\" \"}\r\n            account <strong>{username}</strong>\r\n          </div>\r\n        )\r\n      }\r\n    });\r\n\r\n    this.props.show.alert();\r\n  }\r\n\r\n  handleClickProfile(idx) {\r\n    const { username } = this.props.list[idx];\r\n\r\n    this.setState({ username });\r\n\r\n    this.props.show.edit();\r\n  }\r\n\r\n  handleClickPassword(idx) {\r\n    const { username } = this.props.list[idx];\r\n\r\n    this.setState({ username });\r\n\r\n    this.props.show.changePswd();\r\n  }\r\n\r\n  // Fetch from server\r\n  async fetchDeleteAccount() {\r\n    this.props.process();\r\n\r\n    const { username } = this.state;\r\n\r\n    await userServices.remove(\r\n      username,\r\n      this.props.callback.onDeleteSuccess,\r\n      this.props.callback.onFailure\r\n    );\r\n  }\r\n\r\n  async fetchLockingState() {\r\n    this.props.process();\r\n\r\n    const { username, locking_state } = this.state;\r\n\r\n    if (locking_state === \"unlock\")\r\n      await userServices.lock(\r\n        username,\r\n        this.props.callback.onLockSuccess,\r\n        this.props.callback.onFailure\r\n      );\r\n    else\r\n      await userServices.unlock(\r\n        username,\r\n        this.props.callback.onUnlockSuccess,\r\n        this.props.callback.onFailure\r\n      );\r\n  }\r\n\r\n  sortBy(property) {\r\n    let { sortIcon } = this.state;\r\n\r\n    const prevDirect = sortIcon[property];\r\n\r\n    if (prevDirect === DIRECTION.NONE) {\r\n      sortIcon[property] = DIRECTION.UP;\r\n      this.props.sort(property, \"down\");\r\n    } else if (prevDirect === DIRECTION.UP) {\r\n      sortIcon[property] = DIRECTION.DOWN;\r\n      this.props.sort(property, \"up\");\r\n    } else if (prevDirect === DIRECTION.DOWN) {\r\n      sortIcon[property] = DIRECTION.UP;\r\n      this.props.sort(property, \"down\");\r\n    }\r\n\r\n    this.setState({\r\n      sortIcon\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const dataCols = [\r\n      \"username\",\r\n      \"first_name\",\r\n      \"last_name\",\r\n      \"gender\",\r\n      \"address\",\r\n      \"email\",\r\n      \"phone_number\",\r\n      \"role\",\r\n      \"locking_state\"\r\n    ];\r\n\r\n    const searchInput = name => (\r\n      <Form.Control\r\n        type=\"text\"\r\n        name={name}\r\n        defaultValue={this.props.default[name]}\r\n        onChange={this.handleChangeFilter}\r\n      />\r\n    );\r\n\r\n    const searchSelect = (name, options) => (\r\n      <Form.Control\r\n        as=\"select\"\r\n        name={name}\r\n        defaultValue={this.props.default[name]}\r\n        onChange={this.handleChangeFilter}\r\n      >\r\n        <option>all</option>\r\n        {options.map((op, idx) => (\r\n          <option key={idx}>{op}</option>\r\n        ))}\r\n      </Form.Control>\r\n    );\r\n\r\n    return (\r\n      <Card>\r\n        <Card.Title>Accounts Manager</Card.Title>\r\n        <Card.Body>\r\n          <Table responsive hover striped size=\"sm\">\r\n            <thead className=\"align-middle\">\r\n              <tr>\r\n                <th scope=\"col\">#</th>\r\n                {dataCols.map((property, idx) => (\r\n                  <th scope=\"col\" key={idx}>\r\n                    <Button\r\n                      variant=\"link p-0\"\r\n                      onClick={() => this.sortBy(property)}\r\n                    >\r\n                      {property.toProperCase() === \"Locking State\"\r\n                        ? \"Active\"\r\n                        : property.toProperCase()}{\" \"}\r\n                      <i className={this.state.sortIcon[property]}></i>\r\n                    </Button>\r\n                  </th>\r\n                ))}\r\n                <th scope=\"col\">Action</th>\r\n              </tr>\r\n              <tr>\r\n                <th scope=\"col\" />\r\n                <th scope=\"col\">{searchInput(\"username\")}</th>\r\n                <th scope=\"col\">{searchInput(\"first_name\")}</th>\r\n                <th scope=\"col\">{searchInput(\"last_name\")}</th>\r\n                <th scope=\"col\">\r\n                  {searchSelect(\"gender\", [\"Male\", \"Female\", \"Other\"])}\r\n                </th>\r\n                <th scope=\"col\">{searchInput(\"address\")}</th>\r\n                <th scope=\"col\">{searchInput(\"email\")}</th>\r\n                <th scope=\"col\">{searchInput(\"phone_number\")}</th>\r\n                <th scope=\"col\">\r\n                  {searchSelect(\"role\", [\"admin\", \"standard\"])}\r\n                </th>\r\n                <th scope=\"col\">\r\n                  {searchSelect(\"locking_state\", [\"lock\", \"unlock\"])}\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {this.props.list.map((item, idx) => (\r\n                <tr key={idx}>\r\n                  <td>{idx + 1}</td>\r\n                  <td>{item.username}</td>\r\n                  <td>{item.first_name}</td>\r\n                  <td>{item.last_name}</td>\r\n                  <td>{item.gender}</td>\r\n                  <td>{item.address}</td>\r\n                  <td>{item.email}</td>\r\n                  <td>{item.phone_number}</td>\r\n                  <td>{item.role}</td>\r\n                  <td>\r\n                    <FormCheck custom type=\"switch\">\r\n                      <FormCheck.Input\r\n                        checked={item.locking_state === \"unlock\"}\r\n                        onChange={console.log}\r\n                        isInvalid={item.locking_state === \"lock\"}\r\n                      />\r\n                      <FormCheck.Label\r\n                        onClick={() => this.handleClickLock(idx)}\r\n                      ></FormCheck.Label>\r\n                    </FormCheck>\r\n                  </td>\r\n                  <td className=\"pr-1 pl-0\">\r\n                    <ButtonGroup>\r\n                      <Button\r\n                        data-tip=\"Modify User Profile\"\r\n                        className=\"glow-blue\"\r\n                        onClick={() => this.handleClickProfile(idx)}\r\n                        variant=\"link p-2\"\r\n                      >\r\n                        <i className=\"fas fa-user-edit\" />\r\n                      </Button>\r\n                      <Tooltip place=\"top\" type=\"dark\" effect=\"solid\" />\r\n\r\n                      <Button\r\n                        data-tip=\"Change Account Password\"\r\n                        className=\"glow-yellow\"\r\n                        onClick={() => this.handleClickPassword(idx)}\r\n                        variant=\"link p-2\"\r\n                      >\r\n                        <i className=\"fas fa-key\" />\r\n                      </Button>\r\n                      <Tooltip place=\"top\" type=\"dark\" effect=\"solid\" />\r\n\r\n                      <Button\r\n                        data-tip=\"Delete Account\"\r\n                        className=\"glow-red\"\r\n                        onClick={() => this.handleClickRemove(idx)}\r\n                        variant=\"link p-2\"\r\n                      >\r\n                        <i className=\"fas fa-trash\" />\r\n                      </Button>\r\n                      <Tooltip place=\"top\" type=\"dark\" effect=\"solid\" />\r\n                    </ButtonGroup>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </Table>\r\n          {this.props.list.length === 0 && (\r\n            <div className=\"text-center glow-red\">\r\n              <i className=\"fas fa-times big-not-found\"></i>\r\n              <h3 className=\"mb-5\">Not found!</h3>\r\n            </div>\r\n          )}\r\n        </Card.Body>\r\n        <Card.Footer className=\"hide-border mb-2 mt-n4\">\r\n          <Button variant=\"primary float-right\" onClick={this.props.show.add}>\r\n            <i className=\"fas fa-plus\" /> Add New Account\r\n          </Button>\r\n        </Card.Footer>\r\n\r\n        <CenteredAlert\r\n          show={this.props.visible.alert}\r\n          onHide={this.props.hide.alert}\r\n          title={this.state.alert.title}\r\n          disabled={this.props.isProcess === true}\r\n          button_name={\r\n            this.props.isProcess === true ? (\r\n              <div>\r\n                <Spinner\r\n                  as=\"span\"\r\n                  animation=\"border\"\r\n                  size=\"sm\"\r\n                  role=\"status\"\r\n                  aria-hidden=\"true\"\r\n                />{\" \"}\r\n                Processing\r\n              </div>\r\n            ) : (\r\n              \"Yes, continue!\"\r\n            )\r\n          }\r\n          danger=\"true\"\r\n          onSubmit={\r\n            this.state.alert.action === \"lock\"\r\n              ? this.fetchLockingState\r\n              : this.fetchDeleteAccount\r\n          }\r\n        >\r\n          {this.state.alert.body}\r\n        </CenteredAlert>\r\n\r\n        <AccountEditorModal\r\n          show={this.props.visible.edit}\r\n          onHide={this.props.hide.edit}\r\n          profile={this.props.list.find(\r\n            user => user.username === this.state.username\r\n          )}\r\n          onSuccess={this.props.callback.onModifySuccess}\r\n        />\r\n\r\n        <AccountAdditionModal\r\n          show={this.props.visible.add}\r\n          onHide={this.props.hide.add}\r\n          onSuccess={this.props.callback.onAddSuccess}\r\n        />\r\n\r\n        <ChangePasswordModal\r\n          username={this.state.username}\r\n          prev={this.props.list.find(\r\n            user => user.username === this.state.username\r\n          )}\r\n          show={this.props.visible.changePswd}\r\n          onHide={this.props.hide.changePswd}\r\n          onSuccess={this.props.callback.onChangePswdSuccess}\r\n        />\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AccountsPanel;\r\n","import React, { Component } from \"react\";\r\nimport { Alert } from \"react-bootstrap\";\r\n\r\nclass FailureAlert extends Component {\r\n  render() {\r\n    return (\r\n      <Alert variant=\"danger\" className=\"m-4\">\r\n        <Alert.Heading>Oh snap! You got an error!</Alert.Heading>\r\n        <p>\r\n          Check your connection and try again.\r\n          <br />\r\n          {this.props.message}.\r\n        </p>\r\n      </Alert>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FailureAlert;\r\n","import React, { Component } from \"react\";\r\nimport loading from \"../../img/loading.gif\";\r\nimport \"./style.css\";\r\nimport { Image } from \"react-bootstrap\";\r\n\r\nclass Loading extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"loading-holder \">\r\n        <div className=\"text-center pb-4\">\r\n          <Image src={loading} alt=\"loadign\" />\r\n          <h3 className=\"mt-4\">Loading</h3>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Loading;\r\n","import React, { Component } from \"react\";\r\nimport \"./style.css\";\r\n\r\nclass Unavailable extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"unavailabe-holder\">\r\n        <div className=\"text-center glow-blue\">\r\n          <div className=\"big-not-found\">\r\n            <i className=\"fas fa-unlock-alt\" />\r\n          </div>\r\n          <h3>This Feature Is Unavailable</h3>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Unavailable;\r\n","import React, { Component } from \"react\";\r\nimport { Switch, Route, Redirect } from \"react-router-dom\";\r\n\r\nimport RoomStatus from \"../RoomStatus\";\r\nimport ForecastsWindow from \"../Forecasts\";\r\nimport AccountsPanel from \"../AccountsPanel\";\r\nimport FailureAlert from \"../FailureAlert\";\r\nimport Loading from \"../Loading\";\r\n\r\nimport * as userServices from \"../../services/user\";\r\nimport getErrorMessage from \"../../services/error\";\r\n\r\nimport \"./index.css\";\r\nimport Unavailable from \"../Unavailable\";\r\nimport * as iotServices from \"../../services/iot\";\r\n\r\nclass RenderWindow extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      // IoT Data\r\n      iotCurrent: null,\r\n      iotDatas: null,\r\n      timeUpdate: {\r\n        seconds: 0,\r\n        minutes: 0,\r\n        hours: 0\r\n      },\r\n\r\n      // Users\r\n      users: null,\r\n      filtered: null,\r\n      filter: {\r\n        username: \"\",\r\n        first_name: \"\",\r\n        last_name: \"\",\r\n        gender: \"all\",\r\n        address: \"\",\r\n        email: \"\",\r\n        phone_number: \"\",\r\n        role: \"all\",\r\n        locking_state: \"all\"\r\n      },\r\n\r\n      // Modal/Alert show checking\r\n      showEditor: false,\r\n      showAddition: false,\r\n      showPassword: false,\r\n      showAlert: false,\r\n\r\n      fetchIoTChartSuccess: null,\r\n      fetchIoTCurrentSuccess: null,\r\n      fetchUsersSuccess: null,\r\n      process: false,\r\n      response: null\r\n    };\r\n\r\n    // Fetch IoT Data callback\r\n    this.handleFetchIoTDatasSuccess = this.handleFetchIoTDatasSuccess.bind(\r\n      this\r\n    );\r\n    this.handleFetchIoTDatasFailed = this.handleFetchIoTDatasFailed.bind(this);\r\n    this.handleFetchIoTCurrentSuccess = this.handleFetchIoTCurrentSuccess.bind(\r\n      this\r\n    );\r\n    this.handleFetchIoTCurrentFailed = this.handleFetchIoTCurrentFailed.bind(\r\n      this\r\n    );\r\n\r\n    // List users callback\r\n    this.handleFetchUsersSuccess = this.handleFetchUsersSuccess.bind(this);\r\n    this.handleFailure = this.handleFetchUsersFailure.bind(this);\r\n\r\n    // Add user callback\r\n    this.handleAddUserSuccess = this.handleAddUserSuccess.bind(this);\r\n\r\n    // Lock/Unlock user callback\r\n    this.handleLockUserSuccess = this.handleLockUserSuccess.bind(this);\r\n    this.handleUnlockUserSuccess = this.handleUnlockUserSuccess.bind(this);\r\n    this.changeLockingState = this.changeLockingState.bind(this);\r\n\r\n    // Delete user callback\r\n    this.handleDeleteUserSuccess = this.handleDeleteUserSuccess.bind(this);\r\n\r\n    // Modify user callback\r\n    this.handleModifyUserSuccess = this.handleModifyUserSuccess.bind(this);\r\n\r\n    this.fetchUserList = this.fetchUserList.bind(this);\r\n\r\n    // Modal handler\r\n    this.showAccountEditorModal = this.showAccountEditorModal.bind(this);\r\n    this.hideAccountEditorModal = this.hideAccountEditorModal.bind(this);\r\n\r\n    this.hideAccountAdditionModal = this.hideAccountAdditionModal.bind(this);\r\n    this.showAccountAdditionModal = this.showAccountAdditionModal.bind(this);\r\n\r\n    this.showChangePasswordModal = this.showChangePasswordModal.bind(this);\r\n    this.hideChangePasswordModal = this.hideChangePasswordModal.bind(this);\r\n\r\n    // Sort & Filter\r\n    this.sortBy = this.sortBy.bind(this);\r\n    this.updateFilter = this.updateFilter.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchIoTDatas();\r\n    this.fetchIoTCurrent();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (!prevProps.isAdmin && prevState.fetchUsersSuccess === null) {\r\n      if (this.props.isAdmin === true) this.fetchUserList();\r\n      else if (this.props.isAdmin === false) return this.handleNoFetch();\r\n    }\r\n  }\r\n\r\n  // Fetch IoT Data\r\n  async fetchIoTDatas() {\r\n    await iotServices.chart(\r\n      this.handleFetchIoTDatasSuccess,\r\n      this.handleFetchIoTDatasFailed\r\n    );\r\n  }\r\n\r\n  // Fetch IoT Data callback function\r\n  handleFetchIoTDatasSuccess(data) {\r\n    this.setState({\r\n      iotDatas: data.result,\r\n      fetchIoTChartSuccess: true\r\n    });\r\n  }\r\n\r\n  handleFetchIoTDatasFailed(res) {\r\n    const response = getErrorMessage(res);\r\n\r\n    this.setState({\r\n      fetchIoTChartSuccess: false,\r\n      response\r\n    });\r\n  }\r\n\r\n  async fetchIoTCurrent() {\r\n    await iotServices.current(\r\n      this.handleFetchIoTCurrentSuccess,\r\n      this.handleFetchIoTCurrentFailed\r\n    );\r\n  }\r\n\r\n  // Fetch IoT Data callback function\r\n  handleFetchIoTCurrentSuccess(data) {\r\n    var current = new Date();\r\n\r\n    this.setState({\r\n      iotCurrent: data.result,\r\n      timeUpdate: {\r\n        seconds: current.getSeconds(),\r\n        minutes: current.getMinutes(),\r\n        hours: current.getHours()\r\n      },\r\n      fetchIoTCurrentSuccess: true\r\n    });\r\n  }\r\n\r\n  handleFetchIoTCurrentFailed(res) {\r\n    const response = getErrorMessage(res);\r\n\r\n    this.setState({\r\n      fetchIoTCurrentSuccess: false,\r\n      response\r\n    });\r\n  }\r\n\r\n  // Fetch user list\r\n  async fetchUserList() {\r\n    await userServices.list(this.handleFetchUsersSuccess, this.handleFailure);\r\n  }\r\n\r\n  handleNoFetch() {\r\n    this.setState({ filtered: [], fetchUsersSuccess: true });\r\n  }\r\n\r\n  // List users callback function\r\n  handleFetchUsersSuccess(res) {\r\n    let users = [];\r\n    for (var propName in res) {\r\n      if (propName.startsWith(\"user_\")) {\r\n        if (res[propName].username !== this.props.username)\r\n          users.push(res[propName]);\r\n      }\r\n    }\r\n    this.setState({ users, filtered: users, fetchUsersSuccess: true });\r\n  }\r\n\r\n  handleFetchUsersFailure(res) {\r\n    const response = getErrorMessage(res);\r\n\r\n    this.setState({ fetchUsersSuccess: false, response });\r\n  }\r\n\r\n  // Change password callback function\r\n  onChangePswdSuccess(req) {\r\n    const { username, password } = req;\r\n\r\n    const newList = this.state.users.map(user => {\r\n      if (user.username === username) {\r\n        user.password = password;\r\n      }\r\n\r\n      return user;\r\n    });\r\n\r\n    this.setState(prevState => ({\r\n      users: newList,\r\n      filtered: this.filter(newList, prevState.filter)\r\n    }));\r\n  }\r\n\r\n  // Delete user callback function\r\n  handleDeleteUserSuccess(res, req) {\r\n    this.setState(prevState => ({\r\n      users: prevState.users.filter(user => user.username !== req.username),\r\n      filtered: this.filter(\r\n        prevState.users.filter(user => user.username !== req.username),\r\n        prevState.filter\r\n      ),\r\n\r\n      showAlert: false,\r\n      process: false\r\n    }));\r\n  }\r\n\r\n  // Add user callback function\r\n  handleAddUserSuccess(res, req) {\r\n    const newUser = { ...req, locking_state: \"unlock\" };\r\n\r\n    let { users } = this.state;\r\n    users.push(newUser);\r\n\r\n    this.setState(prevState => ({\r\n      users,\r\n      filtered: this.filter(users, prevState.filter),\r\n      showAddition: false\r\n    }));\r\n  }\r\n\r\n  // Change Locking State callback function\r\n  handleLockUserSuccess(res, req) {\r\n    this.changeLockingState(req.username, \"lock\");\r\n  }\r\n\r\n  handleUnlockUserSuccess(res, req) {\r\n    this.changeLockingState(req.username, \"unlock\");\r\n  }\r\n\r\n  changeLockingState(username, state) {\r\n    const newList = this.state.users.map(user => {\r\n      if (user.username === username) user.locking_state = state;\r\n      return user;\r\n    });\r\n\r\n    this.setState(prevState => ({\r\n      users: newList,\r\n      filtered: this.filter(newList, prevState.filter),\r\n      showAlert: false,\r\n      process: false\r\n    }));\r\n  }\r\n\r\n  // Modify user callback function\r\n  handleModifyUserSuccess(res, req) {\r\n    const { username } = req;\r\n\r\n    let newUser = this.state.users.find(user => user.username === username);\r\n\r\n    for (var key in req)\r\n      if (key !== \"username\" && key !== \"token\") newUser[key] = req[key];\r\n\r\n    this.setState({ showEditor: false });\r\n\r\n    this.updateFilter();\r\n  }\r\n\r\n  // Modals\r\n  showChangePasswordModal() {\r\n    this.setState({ showPassword: true });\r\n  }\r\n\r\n  hideChangePasswordModal() {\r\n    this.setState({ showPassword: false });\r\n  }\r\n\r\n  showAccountEditorModal() {\r\n    this.setState({ showEditor: true });\r\n  }\r\n\r\n  hideAccountEditorModal() {\r\n    this.setState({ showEditor: false });\r\n  }\r\n\r\n  showAccountAdditionModal() {\r\n    this.setState({ showAddition: true });\r\n  }\r\n\r\n  hideAccountAdditionModal() {\r\n    this.setState({ showAddition: false });\r\n  }\r\n\r\n  showAlert() {\r\n    this.setState({ showAlert: true });\r\n  }\r\n\r\n  hideAlert() {\r\n    this.setState({ showAlert: false });\r\n  }\r\n\r\n  process() {\r\n    this.setState({ process: true });\r\n  }\r\n\r\n  // Filter user list\r\n  updateFilter(name, value) {\r\n    const { users, filter } = this.state;\r\n\r\n    if (name) filter[name] = value;\r\n\r\n    this.setState({ filtered: this.filter(users, filter), filter });\r\n  }\r\n\r\n  filter(users, filter) {\r\n    const filtered = users.filter(\r\n      user =>\r\n        user.username.startsWith(filter.username) &&\r\n        user.last_name.startsWith(filter.last_name) &&\r\n        user.first_name.startsWith(filter.first_name) &&\r\n        user.address.startsWith(filter.address) &&\r\n        user.email.startsWith(filter.email) &&\r\n        user.phone_number.startsWith(filter.phone_number) &&\r\n        (user.gender === filter.gender || filter.gender === \"all\") &&\r\n        (user.role === filter.role || filter.role === \"all\") &&\r\n        (user.locking_state === filter.locking_state ||\r\n          filter.locking_state === \"all\")\r\n    );\r\n\r\n    return filtered;\r\n  }\r\n\r\n  // Sort user list by property\r\n  sortBy(property, direct) {\r\n    let sorted;\r\n\r\n    if (direct === \"up\")\r\n      sorted = [...this.state.users].sort((a, b) =>\r\n        a[property] < b[property] ? 1 : b[property] < a[property] ? -1 : 0\r\n      );\r\n    else if (direct === \"down\")\r\n      sorted = [...this.state.users].sort((a, b) =>\r\n        a[property] > b[property] ? 1 : b[property] > a[property] ? -1 : 0\r\n      );\r\n\r\n    this.setState(prevState => ({\r\n      users: sorted,\r\n      filtered: this.filter(sorted, prevState.filter)\r\n    }));\r\n  }\r\n\r\n  render() {\r\n    const fetchSuccess =\r\n      this.props.fetchProfileSuccess &&\r\n      this.state.fetchUsersSuccess &&\r\n      this.state.fetchIoTChartSuccess &&\r\n      this.state.fetchIoTCurrentSuccess;\r\n\r\n    console.log(\r\n      `Fetch user profile: ${this.props.fetchProfileSuccess}\\n`,\r\n      `Fetch user list for admin: ${this.state.fetchUsersSuccess}\\n`,\r\n      `Fetch iot data for graph: ${this.state.fetchIoTChartSuccess}\\n`,\r\n      `Fetch real-time iot data: ${this.state.fetchIoTCurrentSuccess}`\r\n    );\r\n\r\n    if (fetchSuccess === true)\r\n      return (\r\n        <div className=\"window-body\">\r\n          <Switch>\r\n            <Route exact path=\"/dashboard\">\r\n              <RoomStatus\r\n                chart={this.state.iotDatas}\r\n                indexes={this.state.iotCurrent}\r\n                timeUpdate={this.state.timeUpdate}\r\n                handUpdateData={() => this.fetchIoTCurrent()}\r\n              ></RoomStatus>\r\n            </Route>\r\n            <Route path=\"/dashboard/accounts\">\r\n              {!this.props.isAdmin ? (\r\n                <Redirect to=\"/\" />\r\n              ) : (\r\n                <div className=\"p-4\">\r\n                  <AccountsPanel\r\n                    allow={this.props.isAdmin}\r\n                    list={this.state.filtered.filter(\r\n                      user => user.username !== this.props.username\r\n                    )}\r\n                    response={this.state.response}\r\n                    process={() => this.process()}\r\n                    isProcess={this.state.process}\r\n                    sort={this.sortBy}\r\n                    filter={this.updateFilter}\r\n                    default={this.state.filter}\r\n                    callback={{\r\n                      onAddSuccess: this.handleAddUserSuccess,\r\n                      onModifySuccess: this.handleModifyUserSuccess,\r\n                      onDeleteSuccess: this.handleDeleteUserSuccess,\r\n                      onLockSuccess: this.handleLockUserSuccess,\r\n                      onUnlockSuccess: this.handleUnlockUserSuccess,\r\n                      onFailure: this.handleFailure\r\n                    }}\r\n                    show={{\r\n                      edit: this.showAccountEditorModal,\r\n                      add: this.showAccountAdditionModal,\r\n                      changePswd: this.showChangePasswordModal,\r\n                      alert: () => this.showAlert()\r\n                    }}\r\n                    hide={{\r\n                      edit: this.hideAccountEditorModal,\r\n                      add: this.hideAccountAdditionModal,\r\n                      changePswd: this.hideChangePasswordModal,\r\n                      alert: () => this.hideAlert()\r\n                    }}\r\n                    visible={{\r\n                      edit: this.state.showEditor,\r\n                      add: this.state.showAddition,\r\n                      changePswd: this.state.showPassword,\r\n                      alert: this.state.showAlert\r\n                    }}\r\n                  />\r\n                </div>\r\n              )}\r\n            </Route>\r\n            <Route path=\"/dashboard/forecasts\">\r\n              <ForecastsWindow />\r\n            </Route>\r\n            <Route path=\"/dashboard/remotes\">\r\n              <Unavailable />\r\n            </Route>\r\n          </Switch>\r\n        </div>\r\n      );\r\n    else if (fetchSuccess === false) {\r\n      const message = this.props.response && this.state.response;\r\n      return <FailureAlert message={message} />;\r\n    } else return <Loading />;\r\n  }\r\n}\r\n\r\nexport default RenderWindow;\r\n","import { get } from \"./base\";\r\n\r\nexport const chart = (onSuccess, onFailure) => {\r\n  get(\"/GraphData\", onSuccess, onFailure);\r\n};\r\n\r\nexport const current = (onSuccess, onFailure) => {\r\n  get(\"/RealData\", onSuccess, onFailure);\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nimport Navbar from \"../Navbar\";\r\nimport Leftbar from \"../Leftbar\";\r\nimport RenderWindow from \"../RenderWindow\";\r\n\r\nimport * as userServices from \"../../services/user\";\r\nimport getErrorMessage from \"../../services/error\";\r\n\r\nimport \"./index.css\";\r\n\r\nclass Header extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isLogin: null,\r\n      profile: null,\r\n      fetchSuccess: null,\r\n      failureResponse: null\r\n    };\r\n\r\n    this.handleFetchProfileSuccess = this.handleFetchProfileSuccess.bind(this);\r\n    this.handleFetchProfileFailure = this.handleFetchProfileFailure.bind(this);\r\n  }\r\n\r\n  handleFetchProfileFailure(res) {\r\n    let failureResponse = \"Time out\";\r\n\r\n    if (res) failureResponse = getErrorMessage(res.error_code);\r\n\r\n    this.setState({\r\n      fetchSuccess: false,\r\n      failureResponse\r\n    });\r\n  }\r\n\r\n  async fetchProfile() {\r\n    await userServices.view(\r\n      this.handleFetchProfileSuccess,\r\n      this.handleFetchProfileFailure\r\n    );\r\n  }\r\n\r\n  handleFetchProfileSuccess(res) {\r\n    const { error_code, ...profile } = res;\r\n\r\n    this.setState({ profile, fetchSuccess: true });\r\n  }\r\n\r\n  componentDidMount() {\r\n    const token = localStorage.getItem(\"token\");\r\n    this.setState({ isLogin: token !== null });\r\n\r\n    this.fetchProfile();\r\n  }\r\n\r\n  render() {\r\n    if (this.state.isLogin === false) return <Redirect to=\"/\" />;\r\n\r\n    const { profile } = this.state;\r\n\r\n    const isAdmin = profile ? profile.role === \"admin\" : null;\r\n\r\n    const username = profile ? profile.username : null;\r\n\r\n    return (\r\n      <div className=\"background-light\">\r\n        <div className=\"menu-horizontal\">\r\n          <Leftbar isAdmin={isAdmin} />\r\n        </div>\r\n        <div className=\"nav-fixed-top\">\r\n          <Navbar profile={this.state.profile}></Navbar>\r\n        </div>\r\n        <div className=\"dashboard-content\">\r\n          <RenderWindow\r\n            fetchProfileSuccess={this.state.fetchSuccess}\r\n            response={this.state.failureResponse}\r\n            username={username}\r\n            isAdmin={isAdmin}\r\n          ></RenderWindow>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\n\r\nimport HomeBanner from \"./components/HomeBanner/index\";\r\nimport Header from \"./components/Header\";\r\n\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nReactDOM.render(\r\n  <Router>\r\n    <Switch>\r\n      <Route exact path=\"/\">\r\n        <HomeBanner />\r\n      </Route>\r\n      <Route path=\"/login\">\r\n        <HomeBanner />\r\n      </Route>\r\n      <Route path=\"/dashboard\">\r\n        <Header />\r\n      </Route>\r\n    </Switch>\r\n  </Router>,\r\n  document.getElementById(\"root\")\r\n);\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.5251cd55.png\";"],"sourceRoot":""}